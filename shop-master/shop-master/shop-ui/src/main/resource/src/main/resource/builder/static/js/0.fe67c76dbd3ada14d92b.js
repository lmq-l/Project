webpackJsonp([0,1],{"/4e5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"KtTable",components:{KtButton:a("wbNz").default},props:{columns:Array,data:Object,permsEdit:String,permsDelete:String,size:{type:String,default:"mini"},align:{type:String,default:"left"},maxHeight:{type:Number,default:1100},showOperation:{type:Boolean,default:!0},border:{type:Boolean,default:!1},stripe:{type:Boolean,default:!0},highlightCurrentRow:{type:Boolean,default:!0},showOverflowTooltip:{type:Boolean,default:!0},showBatchDelete:{type:Boolean,default:!0}},data:function(){return{pageRequest:{pageNum:1,pageSize:10},loading:!1,selections:[]}},methods:{findPage:function(){var t=this;this.loading=!0;this.$emit("findPage",{pageRequest:this.pageRequest,callback:function(e){t.loading=!1}})},selectionChange:function(t){this.selections=t,this.$emit("selectionChange",{selections:t})},handleCurrentChange:function(t){this.$emit("handleCurrentChange",{val:t})},refreshPageRequest:function(t){this.pageRequest.pageNum=t,this.findPage()},handleEdit:function(t,e){this.$emit("handleEdit",{index:t,row:e})},handleDelete:function(t,e){this.delete(e.id)},handleBatchDelete:function(){var t=this.selections.map(function(t){return t.id}).toString();this.delete(t)},delete:function(t){var e=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){for(var a=[],i=(t+"").split(","),n=0;n<i.length;n++)a.push({id:i[n]});e.loading=!0;e.$emit("handleDelete",{params:a,callback:function(t){200==t.code?(e.$message({message:"删除成功",type:"success"}),e.findPage()):e.$message({message:"操作失败, "+t.msg,type:"error"}),e.loading=!1}})}).catch(function(){})}},mounted:function(){this.refreshPageRequest(1)}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.data.content,"highlight-current-row":t.highlightCurrentRow,"element-loading-text":t.$t("action.loading"),border:t.border,stripe:t.stripe,"show-overflow-tooltip":t.showOverflowTooltip,size:t.size,align:t.align},on:{"selection-change":t.selectionChange,"current-change":t.handleCurrentChange}},[t.showBatchDelete&t.showOperation?a("el-table-column",{attrs:{type:"selection",width:"40"}}):t._e(),t._v(" "),t._l(t.columns,function(t){return a("el-table-column",{key:t.prop,attrs:{"header-align":"center",align:"center",prop:t.prop,label:t.label,width:t.width,"min-width":t.minWidth,fixed:t.fixed,type:t.type,formatter:t.formatter,sortable:null==t.sortable||t.sortable}})}),t._v(" "),t.showOperation?a("el-table-column",{attrs:{label:t.$t("action.operation"),width:"185",fixed:"right","header-align":"center",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:t.$t("action.edit"),perms:t.permsEdit,size:t.size},on:{click:function(a){t.handleEdit(e.$index,e.row)}}}),t._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:t.$t("action.delete"),perms:t.permsDelete,size:t.size,type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}})]}}])}):t._e()],2),t._v(" "),a("div",{staticClass:"toolbar",staticStyle:{padding:"10px"}},[t.showBatchDelete&t.showOperation?a("kt-button",{staticStyle:{float:"left"},attrs:{label:t.$t("action.batchDelete"),perms:t.permsDelete,size:t.size,type:"danger",disabled:0===this.selections.length},on:{click:function(e){t.handleBatchDelete()}}}):t._e(),t._v(" "),a("el-pagination",{attrs:{layout:"total, prev, pager, next, jumper","current-page":t.pageRequest.pageNum,"page-size":t.pageRequest.pageSize,total:t.data.totalSize},on:{"current-change":t.refreshPageRequest}})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("K+sQ")},"data-v-ce666886",null);e.default=l.exports},"/Vje":function(t,e){},"1NhE":function(t,e){},"1O2p":function(t,e){},"3DPb":function(t,e){},"3S/s":function(t,e){},"6NFG":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"ProductRelationDetail",props:{value:Object,isEdit:{type:Boolean,default:!1}},data:function(){return{subjectList:[],subjectTitles:["待选择","已选择"],prefrenceAreaList:[],prefrenceAreaTitles:["待选择","已选择"]}},created:function(){this.getSubjectList()},computed:{selectSubject:{get:function(){var t=[];if(null==this.value.subjectProductRelationList||this.value.subjectProductRelationList.length<=0)return t;for(var e=0;e<this.value.subjectProductRelationList.length;e++)t.push(this.value.subjectProductRelationList[e].subjectId);return t},set:function(t){this.value.subjectProductRelationList=[];for(var e=0;e<t.length;e++)this.value.subjectProductRelationList.push({subjectId:t[e]})}},selectPrefrenceArea:{get:function(){var t=[];if(null==this.value.prefrenceAreaProductRelationList||this.value.prefrenceAreaProductRelationList.length<=0)return t;for(var e=0;e<this.value.prefrenceAreaProductRelationList.length;e++)t.push(this.value.prefrenceAreaProductRelationList[e].prefrenceAreaId);return t},set:function(t){this.value.prefrenceAreaProductRelationList=[];for(var e=0;e<t.length;e++)this.value.prefrenceAreaProductRelationList.push({prefrenceAreaId:t[e]})}}},methods:{filterMethod:function(t,e){return e.label.indexOf(t)>-1},getSubjectList:function(){var t=this,e=new URLSearchParams;e.append("currentPage",-1),e.append("pageSize",-1),this.$axios.post("http://localhost:8080/cmsSubject/listCmsSubjectByPage",e).then(function(e){for(var a=e.data.data.content,i=0;i<a.length;i++)t.subjectList.push({label:a[i].title,key:a[i].id})})},handlePrev:function(){this.$emit("prevStep")},handleFinishCommit:function(){this.$emit("finishCommit",this.isEdit)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"productRelationForm",staticStyle:{width:"680px"},attrs:{model:t.value,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"关联专题："}},[a("el-transfer",{staticStyle:{display:"inline-block"},attrs:{filterable:"","filter-method":t.filterMethod,"filter-placeholder":"请输入专题名称",titles:t.subjectTitles,data:t.subjectList},model:{value:t.selectSubject,callback:function(e){t.selectSubject=e},expression:"selectSubject"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关联优选："}},[a("el-transfer",{staticStyle:{display:"inline-block"},attrs:{filterable:"","filter-method":t.filterMethod,"filter-placeholder":"请输入优选名称",titles:t.prefrenceAreaTitles,data:t.prefrenceAreaList},model:{value:t.selectPrefrenceArea,callback:function(e){t.selectPrefrenceArea=e},expression:"selectPrefrenceArea"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"medium"},on:{click:t.handlePrev}},[t._v("上一步，填写商品属性")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.handleFinishCommit}},[t._v("完成，提交商品")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("s2P4")},"data-v-040f23f3",null);e.default=l.exports},"75kh":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("//Fk"),n=a.n(i),l={name:"singleUpload",props:{value:String},computed:{imageUrl:function(){return this.value},imageName:function(){return null!=this.value&&""!==this.value?this.value.substr(this.value.lastIndexOf("/")+1):null},fileList:function(){return[{name:this.imageName,url:this.imageUrl}]},showFileList:{get:function(){return null!==this.value&&""!==this.value&&void 0!==this.value},set:function(t){}}},data:function(){return{dataObj:{policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:""},dialogVisible:!1}},methods:{emitInput:function(t){this.$emit("input",t)},handleRemove:function(t,e){this.emitInput("")},handlePreview:function(t){this.dialogVisible=!0},beforeUpload:function(t){var e=this;return new n.a(function(t,a){policy().then(function(a){e.dataObj.policy=a.data.policy,e.dataObj.signature=a.data.signature,e.dataObj.ossaccessKeyId=a.data.accessKeyId,e.dataObj.key=a.data.dir+"/${filename}",e.dataObj.dir=a.data.dir,e.dataObj.host=a.data.host,t(!0)}).catch(function(t){console.log(t),a(!1)})})},handleUploadSuccess:function(t,e){this.showFileList=!0,this.fileList.pop(),this.fileList.push({name:e.name,url:this.dataObj.host+"/"+this.dataObj.dir+"/"+e.name}),this.emitInput(this.fileList[0].url)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{attrs:{action:"http://macro-oss.oss-cn-shenzhen.aliyuncs.com",data:t.dataObj,"list-type":"picture",multiple:!1,"show-file-list":t.showFileList,"file-list":t.fileList,"before-upload":t.beforeUpload,"on-remove":t.handleRemove,"on-success":t.handleUploadSuccess,"on-preview":t.handlePreview}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过10MB")])],1),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.fileList[0].url,alt:""}})])],1)},staticRenderFns:[]};var o=a("VU/8")(l,r,!1,function(t){a("GsKe")},null,null).exports,s=a("bOdI"),u=a.n(s),c={name:"multiUpload",props:{value:Array,maxCount:{type:Number,default:5}},data:function(){return{dataObj:{policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:""},dialogVisible:!1,dialogImageUrl:null}},computed:{fileList:function(){for(var t=[],e=0;e<this.value.length;e++)t.push({url:this.value[e]});return t}},methods:{emitInput:function(t){for(var e=[],a=0;a<t.length;a++)e.push(t[a].url);this.$emit("input",e)},handleRemove:function(t,e){this.emitInput(e)},handlePreview:function(t){this.dialogVisible=!0,this.dialogImageUrl=t.url},beforeUpload:function(t){var e=this;return new n.a(function(t,a){policy().then(function(a){e.dataObj.policy=a.data.policy,e.dataObj.signature=a.data.signature,e.dataObj.ossaccessKeyId=a.data.accessKeyId,e.dataObj.key=a.data.dir+"/${filename}",e.dataObj.dir=a.data.dir,e.dataObj.host=a.data.host,t(!0)}).catch(function(t){console.log(t),a(!1)})})},handleUploadSuccess:function(t,e){this.fileList.push(u()({url:e.name},"url",this.dataObj.host+"/"+this.dataObj.dir+"/"+e.name)),this.emitInput(this.fileList)},handleExceed:function(t,e){this.$message({message:"最多只能上传"+this.maxCount+"张图片",type:"warning",duration:1e3})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-upload",{attrs:{action:"http://macro-oss.oss-cn-shenzhen.aliyuncs.com",data:t.dataObj,"list-type":"picture-card","file-list":t.fileList,"before-upload":t.beforeUpload,"on-remove":t.handleRemove,"on-success":t.handleUploadSuccess,"on-preview":t.handlePreview,limit:t.maxCount,"on-exceed":t.handleExceed}},[a("i",{staticClass:"el-icon-plus"})]),t._v(" "),a("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]};var p=a("VU/8")(c,d,!1,function(t){a("xX/3")},null,null).exports,m=a("fZjL"),f=a.n(m),h={name:"editorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[],dataObj:{policy:"",signature:"",key:"",ossaccessKeyId:"",dir:"",host:""}}},methods:{checkAllSuccess:function(){var t=this;return f()(this.listObj).every(function(e){return t.listObj[e].hasSuccess})},handleSubmit:function(){var t=this,e=f()(this.listObj).map(function(e){return t.listObj[e]});this.checkAllSuccess()?(console.log(e),this.$emit("successCBK",e),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(t,e){for(var a=e.uid,i=f()(this.listObj),n=0,l=i.length;n<l;n++)if(this.listObj[i[n]].uid===a)return this.listObj[i[n]].url=this.dataObj.host+"/"+this.dataObj.dir+"/"+e.name,void(this.listObj[i[n]].hasSuccess=!0)},handleRemove:function(t){for(var e=t.uid,a=f()(this.listObj),i=0,n=a.length;i<n;i++)if(this.listObj[a[i]].uid===e)return void delete this.listObj[a[i]]},beforeUpload:function(t){var e=this,a=this,i=t.uid;return this.listObj[i]={},new n.a(function(n,l){policy().then(function(l){a.dataObj.policy=l.data.policy,a.dataObj.signature=l.data.signature,a.dataObj.ossaccessKeyId=l.data.accessKeyId,a.dataObj.key=l.data.dir+"/${filename}",a.dataObj.dir=l.data.dir,a.dataObj.host=l.data.host,a.listObj[i]={hasSuccess:!1,uid:t.uid,width:e.width,height:e.height},n(!0)}).catch(function(t){console.log(t),l(!1)})})}}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-container"},[a("el-button",{style:{background:t.color,borderColor:t.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("上传图片\n  ")]),t._v(" "),a("el-dialog",{attrs:{"append-to-body":"",visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-upload",{staticClass:"editor-slide-upload",attrs:{action:"http://macro-oss.oss-cn-shenzhen.aliyuncs.com",data:t.dataObj,multiple:!0,"file-list":t.fileList,"show-file-list":!0,"list-type":"picture-card","on-remove":t.handleRemove,"on-success":t.handleSuccess,"before-upload":t.beforeUpload}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")])],1),t._v(" "),a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleSubmit}},[t._v("确 定")])],1)],1)},staticRenderFns:[]};var g=["advlist anchor autolink autosave code codesample colorpicker colorpicker\n contextmenu directionality emoticons fullscreen hr image imagetools importcss insertdatetime\n legacyoutput link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace\n spellchecker tabfocus table template textcolor textpattern visualblocks visualchars wordcount"],b=["bold italic underline strikethrough alignleft aligncenter\n alignright outdent indent  blockquote undo redo removeformat","hr bullist numlist link image charmap\t preview anchor pagebreak\n   fullscreen insertdatetime media table forecolor backcolor"],y={name:"tinymce",components:{editorImage:a("VU/8")(h,v,!1,function(t){a("sqeF")},"data-v-345848c0",null).exports},props:{id:{type:String},value:{type:String,default:""},toolbar:{type:Array,required:!1,default:function(){return[]}},menubar:{default:"file edit insert view format table"},height:{type:Number,required:!1,default:360},width:{type:Number,required:!1,default:720}},data:function(){return{hasChange:!1,hasInit:!1,tinymceId:this.id||"vue-tinymce-"+ +new Date}},watch:{value:function(t){var e=this;!this.hasChange&&this.hasInit&&this.$nextTick(function(){return window.tinymce.get(e.tinymceId).setContent(t)})}},mounted:function(){this.initTinymce()},activated:function(){this.initTinymce()},deactivated:function(){this.destroyTinymce()},methods:{initTinymce:function(){var t=this,e=this;window.tinymce.init({selector:"#"+this.tinymceId,width:this.width,height:this.height,language:"zh_CN",body_class:"panel-body ",object_resizing:!1,toolbar:this.toolbar.length>0?this.toolbar:b,menubar:!1,plugins:g,end_container_on_empty_block:!0,powerpaste_word_import:"clean",code_dialog_height:450,code_dialog_width:1e3,advlist_bullet_styles:"square",advlist_number_styles:"default",imagetools_cors_hosts:["www.tinymce.com","codepen.io"],default_link_target:"_blank",link_title:!1,init_instance_callback:function(a){e.value&&a.setContent(e.value),e.hasInit=!0,a.on("NodeChange Change KeyUp SetContent",function(){t.hasChange=!0,t.$emit("input",a.getContent())})}})},destroyTinymce:function(){window.tinymce.get(this.tinymceId)&&window.tinymce.get(this.tinymceId).destroy()},setContent:function(t){window.tinymce.get(this.tinymceId).setContent(t)},getContent:function(){window.tinymce.get(this.tinymceId).getContent()},imageSuccessCBK:function(t){var e=this;t.forEach(function(t){window.tinymce.get(e.tinymceId).insertContent('<img class="wscnph" src="'+t.url+'" >')})}},destroyed:function(){this.destroyTinymce()}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tinymce-container editor-container"},[e("textarea",{staticClass:"tinymce-textarea",attrs:{id:this.tinymceId}}),this._v(" "),e("div",{staticClass:"editor-custom-btn-container"},[e("editorImage",{staticClass:"editor-upload-btn",attrs:{color:"#1890ff"},on:{successCBK:this.imageSuccessCBK}})],1)])},staticRenderFns:[]};var k={name:"ProductAttrDetail",components:{SingleUpload:o,MultiUpload:p,Tinymce:a("VU/8")(y,_,!1,function(t){a("obOk")},"data-v-16a9a62c",null).exports},props:{value:Object,isEdit:{type:Boolean,default:!1}},data:function(){return{hasEditCreated:!1,productAttributeCategoryOptions:[],selectProductAttr:[],selectProductParam:[],selectProductAttrPics:[],addProductAttrValue:"",activeHtmlName:"pc"}},computed:{hasAttrPic:function(){return!(this.selectProductAttrPics.length<1)},productId:function(){return this.value.id},selectProductPics:{get:function(){var t=[];if(void 0===this.value.pic||null==this.value.pic||""===this.value.pic)return t;if(t.push(this.value.pic),void 0===this.value.albumPics||null==this.value.albumPics||""===this.value.albumPics)return t;for(var e=this.value.albumPics.split(","),a=0;a<e.length;a++)t.push(e[a]);return t},set:function(t){if(null==t||0===t.length)this.value.pic=null,this.value.albumPics=null;else if(this.value.pic=t[0],this.value.albumPics="",t.length>1)for(var e=1;e<t.length;e++)this.value.albumPics+=t[e],e!==t.length-1&&(this.value.albumPics+=",")}}},created:function(){this.getProductAttrCateList()},watch:{productId:function(t){this.isEdit&&(this.hasEditCreated||void 0!==t&&null!=t&&0!==t&&this.handleEditCreated())}},methods:{handleEditCreated:function(){null!=this.value.productAttributeCategoryId&&this.handleProductAttrChange(this.value.productAttributeCategoryId),this.hasEditCreated=!0},getProductAttrCateList:function(){var t=this,e=new URLSearchParams;e.append("currentPage",1),e.append("pageSize",100),this.$axios.post("http://localhost:8080/pmsProductAttributeCategory/listPmsProductAttributeCategoryByPage",e).then(function(e){t.productAttributeCategoryOptions=[];for(var a=e.data.data.content,i=0;i<a.length;i++)t.productAttributeCategoryOptions.push({label:a[i].name,value:a[i].id})})},getProductAttrList:function(t,e){var a=this,i=new URLSearchParams;i.append("currentPage",1),i.append("pageSize",100),i.append("type",t),i.append("productAttributeCategoryId",e),this.$axios.post("http://localhost:8080/pmsProductAttribute/listPmsProductAttributeByPage",i).then(function(e){var i=e.data.data.content;if(0===t){a.selectProductAttr=[];for(var n=0;n<i.length;n++){var l=[],r=[];a.isEdit&&(1===i[n].handAddStatus&&(l=a.getEditAttrOptions(i[n].id)),r=a.getEditAttrValues(n)),a.selectProductAttr.push({id:i[n].id,name:i[n].name,handAddStatus:i[n].handAddStatus,inputList:i[n].inputList,values:r,options:l})}a.isEdit&&a.refreshProductAttrPics()}else{a.selectProductParam=[];for(var o=0;o<i.length;o++){var s=null;a.isEdit&&(s=a.getEditParamValue(i[o].id)),a.selectProductParam.push({id:i[o].id,name:i[o].name,value:s,inputType:i[o].inputType,inputList:i[o].inputList})}}})},getEditAttrOptions:function(t){for(var e=[],a=0;a<this.value.productAttributeValueList.length;a++){var i=this.value.productAttributeValueList[a];if(i.productAttributeId===t){for(var n=i.value.split(","),l=0;l<n.length;l++)e.push(n[l]);break}}return e},getEditAttrValues:function(t){var e=[];if(0===t)for(var a=0;a<this.value.skuStockList.length;a++){var i=this.value.skuStockList[a];null!=i.sp1&&-1===e.indexOf(i.sp1)&&e.push(i.sp1)}else if(1===t)for(var n=0;n<this.value.skuStockList.length;n++){var l=this.value.skuStockList[n];null!=l.sp2&&-1===e.indexOf(l.sp2)&&e.push(l.sp2)}else for(var r=0;r<this.value.skuStockList.length;r++){var o=this.value.skuStockList[r];null!=o.sp3&&-1===e.indexOf(o.sp3)&&e.push(o.sp3)}return e},getEditParamValue:function(t){for(var e=0;e<this.value.productAttributeValueList.length;e++)if(t===this.value.productAttributeValueList[e].productAttributeId)return this.value.productAttributeValueList[e].value},handleProductAttrChange:function(t){this.getProductAttrList(0,t),this.getProductAttrList(1,t)},getInputListArr:function(t){return t.split(",")},handleAddProductAttrValue:function(t){var e=this.selectProductAttr[t].options;null!=this.addProductAttrValue&&""!=this.addProductAttrValue?-1===e.indexOf(this.addProductAttrValue)?(this.selectProductAttr[t].options.push(this.addProductAttrValue),this.addProductAttrValue=null):this.$message({message:"属性值不能重复",type:"warning",duration:1e3}):this.$message({message:"属性值不能为空",type:"warning",duration:1e3})},handleRemoveProductAttrValue:function(t,e){this.selectProductAttr[t].options.splice(e,1)},getProductSkuSp:function(t,e){return 0===e?t.sp1:1===e?t.sp2:t.sp3},handleRefreshProductSkuList:function(){var t=this;this.$confirm("刷新列表将导致sku信息重新生成，是否要刷新","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.refreshProductAttrPics(),t.refreshProductSkuList()})},handleSyncProductSkuPrice:function(){var t=this;this.$confirm("将同步第一个sku的价格到所有sku,是否继续","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){if(null!==t.value.skuStockList&&t.value.skuStockList.length>0)for(var e=t.value.skuStockList[0].price,a=0;a<t.value.skuStockList.length;a++)t.value.skuStockList[a].price=e})},refreshProductSkuList:function(){this.value.skuStockList=[];var t=this.value.skuStockList;if(1===this.selectProductAttr.length)for(var e=this.selectProductAttr[0].values,a=0;a<e.length;a++)t.push({sp1:e[a]});else if(2===this.selectProductAttr.length)for(var i=this.selectProductAttr[0].values,n=this.selectProductAttr[1].values,l=0;l<i.length;l++)if(0!==n.length)for(var r=0;r<n.length;r++)t.push({sp1:i[l],sp2:n[r]});else t.push({sp1:i[l]});else for(var o=this.selectProductAttr[0].values,s=this.selectProductAttr[1].values,u=this.selectProductAttr[2].values,c=0;c<o.length;c++)if(0!==s.length)for(var d=0;d<s.length;d++)if(0!==u.length)for(var p=0;p<u.length;p++)t.push({sp1:o[c],sp2:s[d],sp3:u[p]});else t.push({sp1:o[c],sp2:s[d]});else t.push({sp1:o[c]})},refreshProductAttrPics:function(){if(this.selectProductAttrPics=[],this.selectProductAttr.length>=1)for(var t=this.selectProductAttr[0].values,e=0;e<t.length;e++){var a=null;this.isEdit&&(a=this.getProductSkuPic(t[e])),this.selectProductAttrPics.push({name:t[e],pic:a})}},getProductSkuPic:function(t){for(var e=0;e<this.value.skuStockList.length;e++)if(t===this.value.skuStockList[e].sp1)return this.value.skuStockList[e].pic;return null},mergeProductAttrValue:function(){this.value.productAttributeValueList=[];for(var t=0;t<this.selectProductAttr.length;t++){var e=this.selectProductAttr[t];1===e.handAddStatus&&null!=e.options&&e.options.length>0&&this.value.productAttributeValueList.push({productAttributeId:e.id,value:this.getOptionStr(e.options)})}for(var a=0;a<this.selectProductParam.length;a++){var i=this.selectProductParam[a];this.value.productAttributeValueList.push({productAttributeId:i.id,value:i.value})}},mergeProductAttrPics:function(){for(var t=0;t<this.selectProductAttrPics.length;t++)for(var e=0;e<this.value.skuStockList.length;e++)this.value.skuStockList[e].sp1===this.selectProductAttrPics[t].name&&(this.value.skuStockList[e].pic=this.selectProductAttrPics[t].pic)},getOptionStr:function(t){for(var e="",a=0;a<t.length;a++)e+=t[a],a!=t.length-1&&(e+=",");return e},handleRemoveProductSku:function(t,e){var a=this.value.skuStockList;1===a.length?a.pop():a.splice(t,1)},getParamInputList:function(t){return t.split(",")},handlePrev:function(){this.$emit("prevStep")},handleNext:function(){this.mergeProductAttrValue(),this.mergeProductAttrPics(),this.$emit("nextStep")}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"productAttrForm",staticStyle:{width:"720px"},attrs:{model:t.value,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"属性类型："}},[a("el-select",{attrs:{placeholder:"请选择属性类型"},on:{change:t.handleProductAttrChange},model:{value:t.value.productAttributeCategoryId,callback:function(e){t.$set(t.value,"productAttributeCategoryId",e)},expression:"value.productAttributeCategoryId"}},t._l(t.productAttributeCategoryOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"商品规格："}},[a("el-card",{staticClass:"cardBg",attrs:{shadow:"never"}},t._l(t.selectProductAttr,function(e,i){return a("div",[t._v("\n          "+t._s(e.name)+"：\n          "),0===e.handAddStatus?a("el-checkbox-group",{model:{value:t.selectProductAttr[i].values,callback:function(e){t.$set(t.selectProductAttr[i],"values",e)},expression:"selectProductAttr[idx].values"}},t._l(t.getInputListArr(e.inputList),function(t){return a("el-checkbox",{key:t,staticClass:"littleMarginLeft",attrs:{label:t}})})):a("div",[a("el-checkbox-group",{model:{value:t.selectProductAttr[i].values,callback:function(e){t.$set(t.selectProductAttr[i],"values",e)},expression:"selectProductAttr[idx].values"}},t._l(t.selectProductAttr[i].options,function(e,n){return a("div",{staticClass:"littleMarginLeft",staticStyle:{display:"inline-block"}},[a("el-checkbox",{key:e,attrs:{label:e}}),t._v(" "),a("el-button",{staticClass:"littleMarginLeft",attrs:{type:"text"},on:{click:function(e){t.handleRemoveProductAttrValue(i,n)}}},[t._v("删除\n                ")])],1)})),t._v(" "),a("el-input",{staticStyle:{width:"160px","margin-left":"10px"},attrs:{clearable:""},model:{value:t.addProductAttrValue,callback:function(e){t.addProductAttrValue=e},expression:"addProductAttrValue"}}),t._v(" "),a("el-button",{staticClass:"littleMarginLeft",on:{click:function(e){t.handleAddProductAttrValue(i)}}},[t._v("增加")])],1)],1)})),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.value.skuStockList,border:""}},[t._l(t.selectProductAttr,function(e,i){return a("el-table-column",{key:e.id,attrs:{label:e.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.getProductSkuSp(e.row,i))+"\n          ")]}}])})}),t._v(" "),a("el-table-column",{attrs:{label:"销售价格",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.price,callback:function(a){t.$set(e.row,"price",a)},expression:"scope.row.price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品库存",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"库存预警值",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.lowStock,callback:function(a){t.$set(e.row,"lowStock",a)},expression:"scope.row.lowStock"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"SKU编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.skuCode,callback:function(a){t.$set(e.row,"skuCode",a)},expression:"scope.row.skuCode"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleRemoveProductSku(e.$index,e.row)}}},[t._v("删除\n            ")])]}}])})],2),t._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.handleRefreshProductSkuList}},[t._v("刷新列表\n      ")]),t._v(" "),a("el-button",{staticStyle:{"margin-top":"20px"},attrs:{type:"primary"},on:{click:t.handleSyncProductSkuPrice}},[t._v("同步价格\n      ")])],1),t._v(" "),t.hasAttrPic?a("el-form-item",{attrs:{label:"属性图片："}},[a("el-card",{staticClass:"cardBg",attrs:{shadow:"never"}},t._l(t.selectProductAttrPics,function(e,i){return a("div",[a("span",[t._v(t._s(e.name)+":")]),t._v(" "),a("single-upload",{staticStyle:{width:"300px",display:"inline-block","margin-left":"10px"},model:{value:e.pic,callback:function(a){t.$set(e,"pic",a)},expression:"item.pic"}})],1)}))],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"商品参数："}},[a("el-card",{staticClass:"cardBg",attrs:{shadow:"never"}},t._l(t.selectProductParam,function(e,i){return a("div",{class:{littleMarginTop:0!==i}},[a("div",{staticClass:"paramInputLabel"},[t._v(t._s(e.name)+":")]),t._v(" "),1===e.inputType?a("el-select",{staticClass:"paramInput",model:{value:t.selectProductParam[i].value,callback:function(e){t.$set(t.selectProductParam[i],"value",e)},expression:"selectProductParam[index].value"}},t._l(t.getParamInputList(e.inputList),function(t){return a("el-option",{key:t,attrs:{label:t,value:t}})})):a("el-input",{staticClass:"paramInput",model:{value:t.selectProductParam[i].value,callback:function(e){t.$set(t.selectProductParam[i],"value",e)},expression:"selectProductParam[index].value"}})],1)}))],1),t._v(" "),a("el-form-item",{attrs:{label:"商品相册："}},[a("multi-upload",{model:{value:t.selectProductPics,callback:function(e){t.selectProductPics=e},expression:"selectProductPics"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"medium"},on:{click:t.handlePrev}},[t._v("上一步，填写商品促销")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.handleNext}},[t._v("下一步，选择商品关联")])],1)],1)],1)},staticRenderFns:[]};var S=a("VU/8")(k,w,!1,function(t){a("UR8X")},"data-v-1ee62d76",null);e.default=S.exports},"9OBE":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"updateProductAttr",components:{ProductAttrDetail:a("qYud").default}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("product-attr-detail",{attrs:{"is-edit":!0}})},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("og+P")},"data-v-44b7f90c",null);e.default=l.exports},"9bBU":function(t,e,a){a("mClu");var i=a("FeBl").Object;t.exports=function(t,e,a){return i.defineProperty(t,e,a)}},AUIh:function(t,e,a){"use strict";e.a=function(t){return function(t,e,a){if(null!=t){var i=new Date(t),n=i.getFullYear(),l=i.getMonth()+1,r=i.getDate(),o=i.getHours(),s=i.getMinutes(),u=i.getSeconds(),c=n+e+l+e+r+" "+o+a+s+a+u;return c}}(t,"/",":")}},BQHT:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("NGEn"),n=a.n(i),l={name:"table-tree-column",props:{prop:{type:String},treeKey:{type:String,default:"id"},parentKey:{type:String,default:"parentId"},levelKey:{type:String,default:"level"},childKey:{type:String,default:"children"}},methods:{childStyles:function(t){return{"padding-left":25*t[this.levelKey]+"px"}},iconClasses:function(t){return[t._expanded?"el-icon-caret-bottom":"el-icon-caret-right"]},iconStyles:function(t){return{visibility:this.hasChild(t)?"visible":"hidden"}},hasChild:function(t){return n()(t[this.childKey])&&t[this.childKey].length>=1||!1},toggleHandle:function(t,e){var a=this;if(this.hasChild(e)){var i=this.$parent.store.states.data.slice(0);i[t]._expanded=!i[t]._expanded,i=i[t]._expanded?i.splice(0,t+1).concat(e[this.childKey]).concat(i):this.removeChildNode(i,e[this.treeKey]),this.$parent.store.commit("setData",i),this.$nextTick(function(){a.$parent.doLayout()})}},removeChildNode:function(t,e){var a=n()(e)?e:[e];if(e.length<=0)return t;for(var i=[],l=0;l<t.length;l++)-1!==a.indexOf(t[l][this.parentKey])&&-1===a.indexOf(t[l][this.treeKey])&&(i.push(t.splice(l,1)[0][this.treeKey]),l--);return this.removeChildNode(t,i)}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table-column",t._b({attrs:{prop:t.prop},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{style:t.childStyles(e.row),on:{click:function(a){a.preventDefault(),t.toggleHandle(e.$index,e.row)}}},[a("i",{class:t.iconClasses(e.row),style:t.iconStyles(e.row)}),t._v("\n      "+t._s(e.row[t.prop])+"\n    ")])]}}])},"el-table-column",t.$attrs,!1))},staticRenderFns:[]},o=a("VU/8")(l,r,!1,null,null,null);e.default=o.exports},BiQP:function(t,e){},C4MV:function(t,e,a){t.exports={default:a("9bBU"),__esModule:!0}},Cdx3:function(t,e,a){var i=a("sB3e"),n=a("lktj");a("uqUo")("keys",function(){return function(t){return n(i(t))}})},CmKi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("U0FV"),r=a("Ear6"),o=a("75kh"),s=a("6NFG"),u={albumPics:"",brandId:null,brandName:"",deleteStatus:0,description:"",detailDesc:"",detailHtml:"",detailMobileHtml:"",detailTitle:"",feightTemplateId:0,flashPromotionCount:0,flashPromotionId:0,flashPromotionPrice:0,flashPromotionSort:0,giftPoint:0,giftGrowth:0,keywords:"",lowStock:0,name:"",newStatus:0,note:"",originalPrice:0,pic:"",memberPriceList:[],productFullReductionList:[{fullPrice:0,reducePrice:0}],productLadderList:[{count:0,discount:0,price:0}],previewStatus:0,price:0,productAttributeCategoryId:null,productAttributeValueList:[],skuStockList:[],subjectProductRelationList:[],prefrenceAreaProductRelationList:[],productCategoryId:null,productCategoryName:"",productSn:"",promotionEndTime:"",promotionPerLimit:0,promotionPrice:null,promotionStartTime:"",promotionType:0,publishStatus:0,recommandStatus:0,sale:0,serviceIds:"",sort:0,stock:0,subTitle:"",unit:"",usePointLimit:0,verifyStatus:0,weight:0},c={name:"ProductDetail",components:{ProductInfoDetail:l.default,ProductSaleDetail:r.default,ProductAttrDetail:o.default,ProductRelationDetail:s.default},props:{isEdit:{type:Boolean,default:!1}},data:function(){return{active:0,productParam:n()({},u),showStatus:[!0,!1,!1,!1]}},created:function(){var t=this;this.isEdit&&(console.log("111111111111111111111111111111"),getProduct(this.$route.query.id).then(function(e){t.productParam=e.data}))},methods:{hideAll:function(){for(var t=0;t<this.showStatus.length;t++)this.showStatus[t]=!1},prevStep:function(){this.active>0&&this.active<this.showStatus.length&&(this.active--,this.hideAll(),this.showStatus[this.active]=!0)},nextStep:function(){this.active<this.showStatus.length-1&&(this.active++,this.hideAll(),this.showStatus[this.active]=!0)},finishCommit:function(t){var e=this;this.$confirm("是否要提交该产品","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t?updateProduct(e.$route.query.id,e.productParam).then(function(t){e.$message({type:"success",message:"提交成功",duration:1e3}),e.$router.back()}):(console.log(u),console.log(u.toString()),e.$axios.post("http://localhost:8080/pmsProduct/insertPmsProduct",e.productParam).then(function(t){e.$message({type:"success",message:"提交成功",duration:1e3})}))})}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[a("el-steps",{attrs:{active:t.active,"finish-status":"success","align-center":""}},[a("el-step",{attrs:{title:"填写商品信息"}}),t._v(" "),a("el-step",{attrs:{title:"填写商品促销"}}),t._v(" "),a("el-step",{attrs:{title:"填写商品属性"}}),t._v(" "),a("el-step",{attrs:{title:"选择商品关联"}})],1),t._v(" "),a("product-info-detail",{directives:[{name:"show",rawName:"v-show",value:t.showStatus[0],expression:"showStatus[0]"}],attrs:{"is-edit":t.isEdit},on:{nextStep:t.nextStep},model:{value:t.productParam,callback:function(e){t.productParam=e},expression:"productParam"}}),t._v(" "),a("product-sale-detail",{directives:[{name:"show",rawName:"v-show",value:t.showStatus[1],expression:"showStatus[1]"}],attrs:{"is-edit":t.isEdit},on:{nextStep:t.nextStep,prevStep:t.prevStep},model:{value:t.productParam,callback:function(e){t.productParam=e},expression:"productParam"}}),t._v(" "),a("product-attr-detail",{directives:[{name:"show",rawName:"v-show",value:t.showStatus[2],expression:"showStatus[2]"}],attrs:{"is-edit":t.isEdit},on:{nextStep:t.nextStep,prevStep:t.prevStep},model:{value:t.productParam,callback:function(e){t.productParam=e},expression:"productParam"}}),t._v(" "),a("product-relation-detail",{directives:[{name:"show",rawName:"v-show",value:t.showStatus[3],expression:"showStatus[3]"}],attrs:{"is-edit":t.isEdit},on:{prevStep:t.prevStep,finishCommit:t.finishCommit},model:{value:t.productParam,callback:function(e){t.productParam=e},expression:"productParam"}})],1)},staticRenderFns:[]};var p=a("VU/8")(c,d,!1,function(t){a("/Vje")},null,null);e.default=p.exports},DO2n:function(t,e){},EN35:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),l={name:"TableColumnFilterDialog",components:{},props:{columns:{type:Array,default:[]},size:{type:String,default:"mini"}},data:function(){return{selections:[],dialogVisible:!1}},methods:{selectionChange:function(t){this.selections=t},setDialogVisible:function(t){this.dialogVisible=t},handleFilterColumns:function(){for(var t=[],e=0;e<this.columns.length;e++){var a=this.columns[e];this.hasColumn(a)&&t.push(a)}this.$emit("handleFilterColumns",{filterColumns:JSON.parse(n()(t))})},hasColumn:function(t){for(var e=0;e<this.selections.length;e++){var a=this.selections[e];if(t.prop==a.prop)return!0}return!1}},mounted:function(){}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"表格显示列",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-table",{ref:"fitlerTable",staticStyle:{width:"100%"},attrs:{data:t.columns,height:"330px","tooltip-effect":"dark","header-align":"left",align:"left",size:t.size},on:{"selection-change":t.selectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"40"}}),t._v(" "),a("el-table-column",{attrs:{label:"属性"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.prop))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"列名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:t.size},model:{value:e.row.label,callback:function(a){t.$set(e.row,"label",a)},expression:"scope.row.label"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"最小宽度"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{size:t.size},model:{value:e.row.minWidth,callback:function(a){t.$set(e.row,"minWidth",a)},expression:"scope.row.minWidth"}})]}}])})],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},nativeOn:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary"},nativeOn:{click:function(e){return t.handleFilterColumns(e)}}},[t._v(t._s(t.$t("action.comfirm")))])],1)],1)},staticRenderFns:[]};var o=a("VU/8")(l,r,!1,function(t){a("O8Kh")},"data-v-637af325",null);e.default=o.exports},EQ3D:function(t,e){},Ear6:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"ProductSaleDetail",props:{value:Object,isEdit:{type:Boolean,default:!1}},data:function(){return{pickerOptions1:{disabledDate:function(t){return t.getTime()<Date.now()}}}},created:function(){var t=this;if(this.isEdit);else{var e=new URLSearchParams;e.append("currentPage",-1),e.append("pageSize",-1),this.$axios.post("http://localhost:8080/umsMemberLevel/listUmsMemberLevelByPage",e).then(function(e){for(var a=[],i=0;i<e.data.data.content.length;i++){var n=e.data.data.content[i];a.push({memberLevelId:n.id,memberLevelName:n.name})}t.value.memberPriceList=a})}},computed:{selectServiceList:{get:function(){var t=[];if(void 0===this.value.serviceIds||null==this.value.serviceIds||""===this.value.serviceIds)return t;for(var e=this.value.serviceIds.split(","),a=0;a<e.length;a++)t.push(Number(e[a]));return t},set:function(t){var e="";if(null!=t&&t.length>0){for(var a=0;a<t.length;a++)e+=t[a]+",";e.endsWith(",")&&(e=e.substr(0,e.length-1)),this.value.serviceIds=e}else this.value.serviceIds=null}}},methods:{handleEditCreated:function(){var t=this.value.serviceIds.split(",");console.log("handleEditCreated",t);for(var e=0;e<t.length;e++)this.selectServiceList.push(Number(t[e]))},handleRemoveProductLadder:function(t,e){var a=this.value.productLadderList;1===a.length?(a.pop(),a.push({count:0,discount:0,price:0})):a.splice(t,1)},handleAddProductLadder:function(t,e){var a=this.value.productLadderList;a.length<3?a.push({count:0,discount:0,price:0}):this.$message({message:"最多只能添加三条",type:"warning"})},handleRemoveFullReduction:function(t,e){var a=this.value.productFullReductionList;1===a.length?(a.pop(),a.push({fullPrice:0,reducePrice:0})):a.splice(t,1)},handleAddFullReduction:function(t,e){var a=this.value.productFullReductionList;a.length<3?a.push({fullPrice:0,reducePrice:0}):this.$message({message:"最多只能添加三条",type:"warning"})},handlePrev:function(){this.$emit("prevStep")},handleNext:function(){this.$emit("nextStep")}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{"margin-top":"50px"}},[a("el-form",{ref:"productSaleForm",staticStyle:{width:"600px"},attrs:{model:t.value,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"赠送积分："}},[a("el-input",{model:{value:t.value.giftPoint,callback:function(e){t.$set(t.value,"giftPoint",e)},expression:"value.giftPoint"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"赠送成长值："}},[a("el-input",{model:{value:t.value.giftGrowth,callback:function(e){t.$set(t.value,"giftGrowth",e)},expression:"value.giftGrowth"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"积分购买限制："}},[a("el-input",{model:{value:t.value.usePointLimit,callback:function(e){t.$set(t.value,"usePointLimit",e)},expression:"value.usePointLimit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"预告商品："}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.value.previewStatus,callback:function(e){t.$set(t.value,"previewStatus",e)},expression:"value.previewStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品上架："}},[a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.value.publishStatus,callback:function(e){t.$set(t.value,"publishStatus",e)},expression:"value.publishStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品推荐："}},[a("span",{staticStyle:{"margin-right":"10px"}},[t._v("新品")]),t._v(" "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.value.newStatus,callback:function(e){t.$set(t.value,"newStatus",e)},expression:"value.newStatus"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"10px","margin-right":"10px"}},[t._v("推荐")]),t._v(" "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:t.value.recommandStatus,callback:function(e){t.$set(t.value,"recommandStatus",e)},expression:"value.recommandStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"服务保证："}},[a("el-checkbox-group",{model:{value:t.selectServiceList,callback:function(e){t.selectServiceList=e},expression:"selectServiceList"}},[a("el-checkbox",{attrs:{label:1}},[t._v("无忧退货")]),t._v(" "),a("el-checkbox",{attrs:{label:2}},[t._v("快速退款")]),t._v(" "),a("el-checkbox",{attrs:{label:3}},[t._v("免费包邮")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"详细页标题："}},[a("el-input",{model:{value:t.value.detailTitle,callback:function(e){t.$set(t.value,"detailTitle",e)},expression:"value.detailTitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"详细页描述："}},[a("el-input",{model:{value:t.value.detailDesc,callback:function(e){t.$set(t.value,"detailDesc",e)},expression:"value.detailDesc"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品关键字："}},[a("el-input",{model:{value:t.value.keywords,callback:function(e){t.$set(t.value,"keywords",e)},expression:"value.keywords"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品备注："}},[a("el-input",{attrs:{type:"textarea",autoSize:!0},model:{value:t.value.note,callback:function(e){t.$set(t.value,"note",e)},expression:"value.note"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"选择优惠方式："}},[a("el-radio-group",{attrs:{size:"small"},model:{value:t.value.promotionType,callback:function(e){t.$set(t.value,"promotionType",e)},expression:"value.promotionType"}},[a("el-radio-button",{attrs:{label:0}},[t._v("无优惠")]),t._v(" "),a("el-radio-button",{attrs:{label:1}},[t._v("特惠促销")]),t._v(" "),a("el-radio-button",{attrs:{label:2}},[t._v("会员价格")]),t._v(" "),a("el-radio-button",{attrs:{label:3}},[t._v("阶梯价格")]),t._v(" "),a("el-radio-button",{attrs:{label:4}},[t._v("满减价格")])],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:1===t.value.promotionType,expression:"value.promotionType===1"}]},[a("div",[t._v("\n        开始时间：\n        "),a("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetime","picker-options":t.pickerOptions1,placeholder:"选择开始时间"},model:{value:t.value.promotionStartTime,callback:function(e){t.$set(t.value,"promotionStartTime",e)},expression:"value.promotionStartTime"}})],1),t._v(" "),a("div",{staticClass:"littleMargin"},[t._v("\n        结束时间：\n        "),a("el-date-picker",{attrs:{"value-format":"timestamp",type:"datetime","picker-options":t.pickerOptions1,placeholder:"选择结束时间"},model:{value:t.value.promotionEndTime,callback:function(e){t.$set(t.value,"promotionEndTime",e)},expression:"value.promotionEndTime"}})],1),t._v(" "),a("div",{staticClass:"littleMargin"},[t._v("\n        促销价格：\n        "),a("el-input",{staticStyle:{width:"220px"},attrs:{placeholder:"输入促销价格"},model:{value:t.value.promotionPrice,callback:function(e){t.$set(t.value,"promotionPrice",e)},expression:"value.promotionPrice"}})],1)]),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:2===t.value.promotionType,expression:"value.promotionType===2"}]},t._l(t.value.memberPriceList,function(e,i){return a("div",{class:{littleMargin:0!==i}},[t._v("\n        "+t._s(e.memberLevelName)+"：\n        "),a("el-input",{staticStyle:{width:"200px"},model:{value:e.memberPrice,callback:function(a){t.$set(e,"memberPrice",a)},expression:"item.memberPrice"}})],1)})),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:3===t.value.promotionType,expression:"value.promotionType===3"}]},[a("el-table",{staticStyle:{width:"80%"},attrs:{data:t.value.productLadderList,border:""}},[a("el-table-column",{attrs:{label:"数量",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.count,callback:function(a){t.$set(e.row,"count",a)},expression:"scope.row.count"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"折扣",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.discount,callback:function(a){t.$set(e.row,"discount",a)},expression:"scope.row.discount"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleRemoveProductLadder(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleAddProductLadder(e.$index,e.row)}}},[t._v("添加")])]}}])})],1)],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:4===t.value.promotionType,expression:"value.promotionType===4"}]},[a("el-table",{staticStyle:{width:"80%"},attrs:{data:t.value.productFullReductionList,border:""}},[a("el-table-column",{attrs:{label:"满",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.fullPrice,callback:function(a){t.$set(e.row,"fullPrice",a)},expression:"scope.row.fullPrice"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"立减",align:"center",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.reducePrice,callback:function(a){t.$set(e.row,"reducePrice",a)},expression:"scope.row.reducePrice"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleRemoveFullReduction(e.$index,e.row)}}},[t._v("删除")]),t._v(" "),a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleAddFullReduction(e.$index,e.row)}}},[t._v("添加")])]}}])})],1)],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{size:"medium"},on:{click:t.handlePrev}},[t._v("上一步，填写商品信息")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.handleNext}},[t._v("下一步，填写商品属性")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("Qz83")},"data-v-01caa46a",null);e.default=l.exports},GsKe:function(t,e){},Is6l:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("wbNz"),r=a("BQHT"),o=a("xA5l"),s=a("uLE8"),u={components:{PopupTreeInput:o.a,KtButton:l.default,TableTreeColumn:r.default,FaIconTooltip:s.a},data:function(){return{size:"small",loading:!1,filters:{name:""},tableTreeDdata:[],dialogVisible:!1,menuTypeList:["目录","菜单","按钮"],dataForm:{id:0,type:1,name:"",parentId:0,parentName:"",url:"",perms:"",orderNum:0,icon:"",delFlag:0,showStatus:"0",iconList:[]},dataRule:{name:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}]},popupTreeData:[],popupTreeProps:{label:"name",children:"children"}}},methods:{findTreeData:function(){var t=this;this.loading=!0,this.$api.menu.findMenuTree().then(function(e){t.tableTreeDdata=e.data,t.popupTreeData=t.getParentMenuTree(e.data),t.loading=!1})},getParentMenuTree:function(t){return[{parentId:0,name:"顶级菜单",children:t}]},handleAdd:function(){this.dialogVisible=!0,this.dataForm={id:0,type:1,typeList:["目录","菜单","按钮"],name:"",parentId:0,parentName:"",url:"",perms:"",orderNum:0,icon:"",iconList:[]}},handleEdit:function(t){this.dialogVisible=!0,n()(this.dataForm,t)},handleDelete:function(t){var e=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var a=e.getDeleteIds([],t);e.$api.menu.batchDelete(a).then(function(t){e.findTreeData(),e.$message({message:"删除成功",type:"success"})})})},getDeleteIds:function(t,e){if(t.push({id:e.id}),null!=e.children)for(var a=0,i=e.children.length;a<i;a++)this.getDeleteIds(t,e.children[a]);return t},handleTreeSelectChange:function(t,e){this.dataForm.parentId=t.id,this.dataForm.parentName=t.name},iconActiveHandle:function(t){this.dataForm.icon=t},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.dataForm);t.$api.menu.save(e).then(function(e){t.editLoading=!1,200==e.code?(t.$message({message:"操作成功",type:"success"}),t.$refs.dataForm.resetFields(),t.dialogVisible=!1):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.findTreeData()})})})}},mounted:function(){this.findTreeData()}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:menu:view",type:"primary"},on:{click:function(e){t.findTreeData(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:menu:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{"row-key":"id",data:t.tableTreeDdata,stripe:"",size:"mini","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"ID"}}),t._v(" "),a("table-tree-column",{attrs:{prop:"name","header-align":"center",treeKey:"id",width:"150",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{"header-align":"center",align:"center",label:"图标"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("i",{class:t.row.icon||""})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"type","header-align":"center",align:"center",label:"类型"},scopedSlots:t._u([{key:"default",fn:function(e){return[0===e.row.type?a("el-tag",{attrs:{size:"small"}},[t._v("目录")]):1===e.row.type?a("el-tag",{attrs:{size:"small",type:"success"}},[t._v("菜单")]):2===e.row.type?a("el-tag",{attrs:{size:"small",type:"info"}},[t._v("按钮")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"parentName","header-align":"center",align:"center",width:"120",label:"上级菜单"}}),t._v(" "),a("el-table-column",{attrs:{prop:"url","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0,label:"菜单URL"}}),t._v(" "),a("el-table-column",{attrs:{prop:"perms","header-align":"center",align:"center",width:"150","show-overflow-tooltip":!0,label:"授权标识"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderNum","header-align":"center",align:"center",label:"排序"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"185",label:t.$t("action.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:t.$t("action.edit"),perms:"sys:menu:edit"},on:{click:function(a){t.handleEdit(e.row)}}}),t._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:t.$t("action.delete"),perms:"sys:menu:delete",type:"danger"},on:{click:function(a){t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px",size:t.size},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm()}}},[a("el-form-item",{attrs:{label:"菜单类型",prop:"type"}},[a("el-radio-group",{model:{value:t.dataForm.type,callback:function(e){t.$set(t.dataForm,"type",e)},expression:"dataForm.type"}},t._l(t.menuTypeList,function(e,i){return a("el-radio",{key:i,attrs:{label:i}},[t._v(t._s(e))])}))],1),t._v(" "),a("el-form-item",{attrs:{label:t.menuTypeList[t.dataForm.type]+"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:t.menuTypeList[t.dataForm.type]+"名称"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级菜单",prop:"parentName"}},[a("popup-tree-input",{attrs:{data:t.popupTreeData,props:t.popupTreeProps,prop:null==t.dataForm.parentName||""==t.dataForm.parentName?"顶级菜单":t.dataForm.parentName,nodeKey:""+t.dataForm.parentId,currentChangeHandle:t.handleTreeSelectChange}})],1),t._v(" "),0!==t.dataForm.type?a("el-form-item",{attrs:{label:"授权标识",prop:"perms"}},[a("el-input",{attrs:{placeholder:"如: sys:user:add, sys:user:edit, sys:user:delete"},model:{value:t.dataForm.perms,callback:function(e){t.$set(t.dataForm,"perms",e)},expression:"dataForm.perms"}})],1):t._e(),t._v(" "),1===t.dataForm.type?a("el-form-item",{attrs:{label:"菜单路由",prop:"url"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{placeholder:"菜单路由"},model:{value:t.dataForm.url,callback:function(e){t.$set(t.dataForm,"url",e)},expression:"dataForm.url"}})],1),t._v(" "),a("el-col",{staticClass:"icon-list__tips",attrs:{span:2}},[a("el-tooltip",{staticStyle:{padding:"10px"},attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("URL格式：")]),t._v(" "),a("p",[t._v("1.常规业务开发的功能URL，如用户管理，Views目录下页面路径为 /Sys/User, 此处填写 /sys/user。")]),t._v(" "),a("p",[t._v("2.嵌套外部网页，如通过菜单打开百度网页，此处填写 http://www.baidu.com，http:// 不可省略。")]),t._v(" "),a("p",[t._v("示例：用户管理：/sys/user 嵌套百度：http://www.baidu.com 嵌套网页：http://127.0.0.1:8000")])]),t._v(" "),a("i",{staticClass:"el-icon-warning"})])],1)],1)],1):t._e(),t._v(" "),a("el-form-item",{attrs:{prop:"showStatus",label:"是否展示"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.dataForm.showStatus,callback:function(e){t.$set(t.dataForm,"showStatus",e)},expression:"dataForm.showStatus"}},[a("el-option",{key:"0",attrs:{value:"0",label:"是"}}),t._v(" "),a("el-option",{key:"1",attrs:{value:"1",label:"否"}})],1)],1),t._v(" "),2!==t.dataForm.type?a("el-form-item",{attrs:{label:"排序编号",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:"排序编号"},model:{value:t.dataForm.orderNum,callback:function(e){t.$set(t.dataForm,"orderNum",e)},expression:"dataForm.orderNum"}})],1):t._e(),t._v(" "),2!==t.dataForm.type?a("el-form-item",{attrs:{label:"菜单图标",prop:"icon"}},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-input",{directives:[{name:"popover",rawName:"v-popover:iconListPopover",arg:"iconListPopover"}],staticClass:"icon-list__input",attrs:{readonly:!1,placeholder:"菜单图标名称（如：fa fa-home fa-lg）"},model:{value:t.dataForm.icon,callback:function(e){t.$set(t.dataForm,"icon",e)},expression:"dataForm.icon"}})],1),t._v(" "),a("el-col",{staticClass:"icon-list__tips",attrs:{span:2}},[a("fa-icon-tooltip")],1)],1)],1):t._e()],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v(t._s(t.$t("action.comfirm")))])],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,c,!1,function(t){a("OuFI")},"data-v-7418190c",null);e.default=d.exports},IzxC:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={created:function(){},mounted:function(){this.findPage()},data:function(){return{dialogTableVisible:!1,size:"small",filters:{name:""},columns:[],filterColumns:[],pageRequest:{pageNum:1,pageSize:10},tableData:[],operation:!1,dialogVisible:!1,editLoading:!1,dataFormRules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}]},dataForm:{id:0,name:"",password:"123456",deptId:1,deptName:"",email:"test@qq.com",mobile:"13889700023",status:1,userRoles:[]},formLabelWidth:"120px",deptData:[],deptTreeProps:{label:"name",children:"children"},roles:[],total:0}},methods:{handleCurrentChange:function(t){this.pageRequest.pageNum=t,this.findPage()},findPage:function(){var t=this,e=new URLSearchParams;e.append("currentPage",this.pageRequest.pageNum),e.append("rows",this.pageRequest.pageSize),this.$axios.post("http://localhost:8080/user/findList",e).then(function(e){t.tableData=e.data.rows,t.total=e.data.total})},handleEdit:function(t,e){console.log(t,e),this.dialogTableVisible=!0,console.log(e),this.dataForm.id=e.id,this.dataForm.password=e.password,this.dataForm.deptName=e.depId,this.dataForm.email=e.email,this.dataForm.mobile=e.mobile,this.dataForm.userRoles=e.userRoles,this.dataForm.name=e.name},handleDelete:function(t,e){console.log(t,e)}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-container",[a("el-main",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[a("el-table-column",{attrs:{prop:"id",label:"id",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"email",label:"地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mobile",label:"联系方式"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createBy",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"300"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"el-icon-edit",attrs:{size:"mini"},on:{click:function(a){t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-button",{staticClass:"el-icon-delete",attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.total},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"编辑信息",visible:t.dialogTableVisible},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[a("el-form",{attrs:{model:t.dataForm}},[a("el-form-item",{attrs:{label:"姓名","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.password,callback:function(e){t.$set(t.dataForm,"password",e)},expression:"dataForm.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机构","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.deptName,callback:function(e){t.$set(t.dataForm,"deptName",e)},expression:"dataForm.deptName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.email,callback:function(e){t.$set(t.dataForm,"email",e)},expression:"dataForm.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.mobile,callback:function(e){t.$set(t.dataForm,"mobile",e)},expression:"dataForm.mobile"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"角色","label-width":t.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.userRoles,callback:function(e){t.$set(t.dataForm,"userRoles",e)},expression:"dataForm.userRoles"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("ruui")},null,null);e.default=l.exports},"K+sQ":function(t,e){},"Lu/R":function(t,e){},N3DD:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"addProduct",components:{ProductDetail:a("CmKi").default}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("product-detail",{attrs:{"is-edit":!1}})},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("3S/s")},null,null);e.default=l.exports},NGEn:function(t,e){var a=Array.isArray;t.exports=a},NGlO:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{src:"",loading:null}},methods:{resetSrc:function(t){this.src=t,this.load()},load:function(){this.loading=this.$loading({lock:!0,text:"loading...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.5)",target:document.querySelector("#main-container ")})},onloaded:function(){this.loading&&this.loading.close()}},mounted:function(){this.resetSrc(this.$store.state.iframe.iframeUrl)},watch:{$route:{handler:function(t,e){this.resetSrc(this.$store.state.iframe.iframeUrl)}}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"iframe-container"},[e("iframe",{staticClass:"frame",attrs:{src:this.src,scrolling:"auto",frameborder:"0",onload:this.onloaded()}})])},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("q0cV")},null,null);e.default=l.exports},O8Kh:function(t,e){},OuFI:function(t,e){},PXio:function(t,e){},Qz83:function(t,e){},SJ9W:function(t,e){},U0FV:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"ProductInfoDetail",props:{value:Object,isEdit:{type:Boolean,default:!1}},data:function(){return{hasEditCreated:!1,selectProductCateValue:[],productCateOptions:[],brandOptions:[],rules:{name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}],subTitle:[{required:!0,message:"请输入商品副标题",trigger:"blur"}],productCategoryId:[{required:!0,message:"请选择商品分类",trigger:"blur"}],brandId:[{required:!0,message:"请选择商品品牌",trigger:"blur"}],description:[{required:!0,message:"请输入商品介绍",trigger:"blur"}],requiredProp:[{required:!0,message:"该项为必填项",trigger:"blur"}]}}},created:function(){this.getProductCateList(),this.getBrandList()},computed:{productId:function(){return this.value.id}},watch:{productId:function(t){this.isEdit&&(this.hasEditCreated||void 0!==t&&null!=t&&0!==t&&this.handleEditCreated())},selectProductCateValue:function(t){null!=t&&2===t.length?(this.value.productCategoryId=t[1],this.value.productCategoryName=this.getCateNameById(this.value.productCategoryId)):(this.value.productCategoryId=null,this.value.productCategoryName=null)}},methods:{handleEditCreated:function(){null!=this.value.productCategoryId&&(this.selectProductCateValue.push(this.value.cateParentId),this.selectProductCateValue.push(this.value.productCategoryId)),this.hasEditCreated=!0},getProductCateList:function(){var t=this,e=new URLSearchParams;this.$axios.post("http://localhost:8080/pmsProductCategory/listPmsProductCategoryByPage",e).then(function(e){var a=e.data.data.content;t.productCateOptions=[];for(var i=0;i<a.length;i++){var n=[];if(null!=a[i].children&&a[i].children.length>0)for(var l=0;l<a[i].children.length;l++)n.push({label:a[i].children[l].name,value:a[i].children[l].id});t.productCateOptions.push({label:a[i].name,value:a[i].id,children:n})}})},getBrandList:function(){var t=this,e=new URLSearchParams;e.append("currentPage",1),e.append("pageSize",100),this.$axios.post("http://localhost:8080/pmsBrand/listPmsBrandByPage",e).then(function(e){t.brandOptions=[];for(var a=e.data.data.content,i=0;i<a.length;i++)t.brandOptions.push({label:a[i].name,value:a[i].id})})},getCateNameById:function(t){for(var e=null,a=0;a<this.productCateOptions.length;a++)for(var i=0;a<this.productCateOptions[a].children.length;i++)if(this.productCateOptions[a].children[i].value===t)return e=this.productCateOptions[a].children[i].label;return e},handleNext:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"验证失败",type:"error",duration:1e3}),!1;e.$emit("nextStep")})},handleBrandChange:function(t){for(var e="",a=0;a<this.brandOptions.length;a++)if(this.brandOptions[a].value===t){e=this.brandOptions[a].label;break}this.value.brandName=e}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("el-form",{ref:"productInfoForm",staticStyle:{width:"600px"},attrs:{model:t.value,rules:t.rules,"label-width":"120px",size:"small"}},[a("el-form-item",{attrs:{label:"商品分类：",prop:"productCategoryId"}},[a("el-cascader",{staticStyle:{width:"480px"},attrs:{options:t.productCateOptions},model:{value:t.selectProductCateValue,callback:function(e){t.selectProductCateValue=e},expression:"selectProductCateValue"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品名称：",prop:"name"}},[a("el-input",{model:{value:t.value.name,callback:function(e){t.$set(t.value,"name",e)},expression:"value.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"副标题：",prop:"subTitle"}},[a("el-input",{model:{value:t.value.subTitle,callback:function(e){t.$set(t.value,"subTitle",e)},expression:"value.subTitle"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品品牌：",prop:"brandId"}},[a("el-select",{staticStyle:{width:"480px"},attrs:{placeholder:"请选择品牌"},on:{change:t.handleBrandChange},model:{value:t.value.brandId,callback:function(e){t.$set(t.value,"brandId",e)},expression:"value.brandId"}},t._l(t.brandOptions,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"商品介绍："}},[a("el-input",{attrs:{autoSize:!0,type:"textarea",placeholder:"请输入内容"},model:{value:t.value.description,callback:function(e){t.$set(t.value,"description",e)},expression:"value.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品货号："}},[a("el-input",{model:{value:t.value.productSn,callback:function(e){t.$set(t.value,"productSn",e)},expression:"value.productSn"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品售价："}},[a("el-input",{model:{value:t.value.price,callback:function(e){t.$set(t.value,"price",e)},expression:"value.price"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"市场价："}},[a("el-input",{model:{value:t.value.originalPrice,callback:function(e){t.$set(t.value,"originalPrice",e)},expression:"value.originalPrice"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品库存："}},[a("el-input",{model:{value:t.value.stock,callback:function(e){t.$set(t.value,"stock",e)},expression:"value.stock"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"计量单位："}},[a("el-input",{model:{value:t.value.unit,callback:function(e){t.$set(t.value,"unit",e)},expression:"value.unit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品重量："}},[a("el-input",{staticStyle:{width:"440px"},model:{value:t.value.weight,callback:function(e){t.$set(t.value,"weight",e)},expression:"value.weight"}}),t._v(" "),a("span",{staticStyle:{"margin-left":"20px"}},[t._v("克")])],1),t._v(" "),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.value.sort,callback:function(e){t.$set(t.value,"sort",e)},expression:"value.sort"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"medium"},on:{click:function(e){t.handleNext("productInfoForm")}}},[t._v("下一步，填写商品促销")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("p9De")},"data-v-36c610f5",null);e.default=l.exports},UR8X:function(t,e){},VKGr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),n=a.n(i),l=a("woOf"),r=a.n(l),o=a("xA5l"),s=a("/4e5"),u=a("wbNz"),c=a("EN35"),d=a("AUIh"),p={components:{PopupTreeInput:o.a,KtTable:s.default,KtButton:u.default,TableColumnFilterDialog:c.default},data:function(){return{size:"small",filters:{name:""},columns:[],filterColumns:[],pageRequest:{pageNum:1,pageSize:10},pageResult:{},operation:!1,dialogVisible:!1,editLoading:!1,dataFormRules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}]},dataForm:{id:0,name:"",password:"123456",deptId:1,deptName:"",email:"test@qq.com",mobile:"13889700023",status:1,userRoles:[]},deptData:[],deptTreeProps:{label:"name",children:"children"},roles:[]}},methods:{findPage:function(t){var e=this;console.log(t);var a=new URLSearchParams;a.append("currentPage",t.pageRequest.pageNum),a.append("pageSize",t.pageRequest.pageSize),this.$axios.post("http://localhost:8080/user/findList",a).then(function(t){e.pageResult=t.data.data,e.findUserRoles()}).then(null!=t?t.callback:"")},findUserRoles:function(){var t=this;this.$api.role.findAll().then(function(e){t.roles=e.data})},handleDelete:function(t){this.$api.user.batchDelete(t.params).then(null!=t?t.callback:"")},handleAdd:function(){this.dialogVisible=!0,this.operation=!0,this.dataForm={id:0,name:"",password:"",deptId:1,deptName:"",email:"test@qq.com",mobile:"13889700023",status:1,userRoles:[]}},handleEdit:function(t){this.dialogVisible=!0,this.operation=!1,this.dataForm=r()({},t.row);for(var e=[],a=0,i=t.row.userRoles.length;a<i;a++)e.push(t.row.userRoles[a].roleId);this.dataForm.userRoles=e},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;for(var e=r()({},t.dataForm),a=[],i=0,n=e.userRoles.length;i<n;i++){var l={userId:e.id,roleId:e.userRoles[i]};a.push(l)}e.userRoles=a,t.$api.user.save(e).then(function(e){t.editLoading=!1,200==e.code?(t.$message({message:"操作成功",type:"success"}),t.dialogVisible=!1,t.$refs.dataForm.resetFields()):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.findPage(null)})})})},findDeptTree:function(){var t=this;this.$api.dept.findDeptTree().then(function(e){t.deptData=e.data})},deptTreeCurrentChangeHandle:function(t,e){this.dataForm.deptId=t.id,this.dataForm.deptName=t.name},dateFormat:function(t,e,a,i){return Object(d.a)(t[e.property])},displayFilterColumnsDialog:function(){this.$refs.tableColumnFilterDialog.setDialogVisible(!0)},handleFilterColumns:function(t){this.filterColumns=t.filterColumns,this.$refs.tableColumnFilterDialog.setDialogVisible(!1)},initColumns:function(){this.columns=[{prop:"id",label:"ID",minWidth:50},{prop:"name",label:"用户名",minWidth:120},{prop:"deptName",label:"机构",minWidth:120},{prop:"roleNames",label:"角色",minWidth:100},{prop:"email",label:"邮箱",minWidth:120},{prop:"mobile",label:"手机",minWidth:100},{prop:"status",label:"状态",minWidth:70}],this.filterColumns=JSON.parse(n()(this.columns))}},mounted:function(){this.findDeptTree(),this.initColumns()}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:role:view",type:"primary"},on:{click:function(e){t.findPage(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:user:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("div",{staticClass:"toolbar",staticStyle:{float:"right","padding-top":"10px","padding-right":"15px"}},[a("el-form",{attrs:{inline:!0,size:t.size}},[a("el-form-item",[a("el-button-group",[a("el-tooltip",{attrs:{content:"刷新",placement:"top"}},[a("el-button",{attrs:{icon:"fa fa-refresh"},on:{click:function(e){t.findPage(null)}}})],1),t._v(" "),a("el-tooltip",{attrs:{content:"列显示",placement:"top"}},[a("el-button",{attrs:{icon:"fa fa-filter"},on:{click:t.displayFilterColumnsDialog}})],1),t._v(" "),a("el-tooltip",{attrs:{content:"导出",placement:"top"}},[a("el-button",{attrs:{icon:"fa fa-file-excel-o"}})],1)],1)],1)],1),t._v(" "),a("table-column-filter-dialog",{ref:"tableColumnFilterDialog",attrs:{columns:t.columns},on:{handleFilterColumns:t.handleFilterColumns}})],1),t._v(" "),a("kt-table",{attrs:{permsEdit:"sys:user:edit",permsDelete:"sys:user:delete",data:t.pageResult,columns:t.filterColumns},on:{findPage:t.findPage,handleEdit:t.handleEdit,handleDelete:t.handleDelete}}),t._v(" "),a("el-dialog",{attrs:{title:t.operation?"新增":"编辑",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,"label-width":"80px",rules:t.dataFormRules,size:t.size,"label-position":"right"}},[t._e(),t._v(" "),a("el-form-item",{attrs:{label:"用户名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"密码",prop:"password"}},[a("el-input",{attrs:{type:"password","auto-complete":"off"},model:{value:t.dataForm.password,callback:function(e){t.$set(t.dataForm,"password",e)},expression:"dataForm.password"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"机构",prop:"deptName"}},[a("popup-tree-input",{attrs:{data:t.deptData,props:t.deptTreeProps,prop:t.dataForm.deptName,nodeKey:""+t.dataForm.deptId,currentChangeHandle:t.deptTreeCurrentChangeHandle}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.email,callback:function(e){t.$set(t.dataForm,"email",e)},expression:"dataForm.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"手机",prop:"mobile"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.mobile,callback:function(e){t.$set(t.dataForm,"mobile",e)},expression:"dataForm.mobile"}})],1),t._v(" "),t.operation?t._e():a("el-form-item",{attrs:{label:"角色",prop:"userRoles"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择"},model:{value:t.dataForm.userRoles,callback:function(e){t.$set(t.dataForm,"userRoles",e)},expression:"dataForm.userRoles"}},t._l(t.roles,function(t){return a("el-option",{key:t.id,attrs:{label:t.remark,value:t.id}})}))],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},nativeOn:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary",loading:t.editLoading},nativeOn:{click:function(e){return t.submitForm(e)}}},[t._v(t._s(t.$t("action.submit")))])],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(p,m,!1,function(t){a("ulml")},"data-v-d122d73c",null);e.default=f.exports},W1lk:function(t,e){},"XU/d":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("wbNz"),r=a("BQHT"),o=a("xA5l"),s=a("uLE8"),u=a("AUIh"),c={components:{PopupTreeInput:o.a,KtButton:l.default,TableTreeColumn:r.default,FaIconTooltip:s.a},data:function(){return{pageRequest:{pageNum:1,pageSize:10},totalSize:0,size:"small",loading:!1,filters:{name:""},tableTreeDdata:[],dialogVisible:!1,dataForm:{id:0,name:"",parentId:0,parentName:"",sort:0,productCount:0,productUnit:"",keywords:"",description:"",navStatus:0,showStatus:0,level:0},dataRule:{name:[{required:!0,message:"机构名称不能为空",trigger:"blur"}],parentName:[{required:!0,message:"上级机构不能为空",trigger:"change"}]},popupTreeData:[],popupTreeProps:{label:"name",children:"children"}}},methods:{handleCurrentChange:function(t){this.pageRequest.pageNum=t,this.findTreeData()},findTreeData:function(){var t=this;this.loading=!0;var e=new URLSearchParams;e.append("currentPage",this.pageRequest.pageNum),e.append("pageSize",this.pageRequest.pageSize),e.append("name",this.filters.name),this.$axios.post("http://localhost:8080/pmsProductCategory/listPmsProductCategoryByPage",e).then(function(e){console.log(e),t.tableTreeDdata=e.data.data.content,t.popupTreeData=t.getParentMenuTree(e.data.data.content),t.totalSize=e.data.data.totalSize,t.loading=!1})},getParentMenuTree:function(t){return[{parentId:0,name:"顶级分类",children:t}]},handleAdd:function(){this.dialogVisible=!0,this.dataForm={id:0,name:"",parentId:0,parentName:"",orderNum:0}},handleEdit:function(t){this.dialogVisible=!0,n()(this.dataForm,t)},handleDelete:function(t){var e=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var a=e.getDeleteIds([],t);e.$api.productType.deletes(a).then(function(t){e.findTreeData(),e.$message({message:"删除成功",type:"success"})})})},getDeleteIds:function(t,e){if(t.push(e.id),null!=e.children)for(var a=0,i=e.children.length;a<i;a++)this.getDeleteIds(t,e.children[a]);return t.join(",")},handleTreeSelectChange:function(t,e){0==t.level?this.dataForm.parentId=0:(this.dataForm.parentId=t.id,this.dataForm.level=1),this.dataForm.parentName=t.name},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.dataForm);console.log(e.toString()),t.$api.productType.save(e).then(function(e){t.editLoading=!1,200==e.code?(t.$message({message:"操作成功",type:"success"}),t.dialogVisible=!1,t.$refs.dataForm.resetFields()):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.findTreeData()})})})},dateFormat:function(t,e,a,i){return Object(u.a)(t[e.property])}},mounted:function(){this.findTreeData()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:dept:view",type:"primary"},on:{click:function(e){t.findTreeData(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:dept:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableTreeDdata,stripe:"",size:"mini","row-key":"id","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"ID"}}),t._v(" "),a("table-tree-column",{attrs:{prop:"name","header-align":"center",treeKey:"id",width:"150",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"parentName","header-align":"center",align:"center",width:"120",label:"上级分类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sort","header-align":"center",align:"center",label:"排序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"keywords","header-align":"center",align:"center",label:"关键词"}}),t._v(" "),a("el-table-column",{attrs:{prop:"description","header-align":"center",align:"center",label:"描述"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"185",label:t.$t("action.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:t.$t("action.edit"),perms:"sys:dept:edit"},on:{click:function(a){t.handleEdit(e.row)}}}),t._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:t.$t("action.delete"),perms:"sys:dept:delete",type:"danger"},on:{click:function(a){t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.totalSize},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px",size:t.size},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm()}}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:0==t.dataForm.level?"顶级分类":"一级分类",prop:"level"}},[a("el-input",{attrs:{placeholder:"分类级别"},model:{value:t.dataForm.level,callback:function(e){t.$set(t.dataForm,"level",e)},expression:"dataForm.level"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级分类",prop:"parentName"}},[a("popup-tree-input",{attrs:{data:t.popupTreeData,props:t.popupTreeProps,prop:null==t.dataForm.parentName?"顶级分类":t.dataForm.parentName,nodeKey:""+t.dataForm.parentId,currentChangeHandle:t.handleTreeSelectChange}})],1),t._v(" "),2!==t.dataForm.type?a("el-form-item",{attrs:{label:"排序编号",prop:"sort"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:"排序编号"},model:{value:t.dataForm.sort,callback:function(e){t.$set(t.dataForm,"sort",e)},expression:"dataForm.sort"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{label:"导航栏展示",prop:"navStatus"}},[a("el-input",{attrs:{placeholder:"导航栏展示"},model:{value:t.dataForm.navStatus,callback:function(e){t.$set(t.dataForm,"navStatus",e)},expression:"dataForm.navStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否展示",prop:"showStatus"}},[a("el-input",{attrs:{placeholder:"是否展示"},model:{value:t.dataForm.showStatus,callback:function(e){t.$set(t.dataForm,"showStatus",e)},expression:"dataForm.showStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品数量",prop:"productCount"}},[a("el-input",{attrs:{placeholder:"商品数量"},model:{value:t.dataForm.productCount,callback:function(e){t.$set(t.dataForm,"productCount",e)},expression:"dataForm.productCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品单位",prop:"productUnit"}},[a("el-input",{attrs:{placeholder:"商品单位"},model:{value:t.dataForm.productUnit,callback:function(e){t.$set(t.dataForm,"productUnit",e)},expression:"dataForm.productUnit"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"关键词",prop:"keywords"}},[a("el-input",{attrs:{placeholder:"商品关键词"},model:{value:t.dataForm.keywords,callback:function(e){t.$set(t.dataForm,"keywords",e)},expression:"dataForm.keywords"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品描述",prop:"description"}},[a("el-input",{attrs:{placeholder:"商品描述"},model:{value:t.dataForm.description,callback:function(e){t.$set(t.dataForm,"description",e)},expression:"dataForm.description"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v(t._s(t.$t("action.comfirm")))])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,d,!1,function(t){a("1O2p")},"data-v-4e841c98",null);e.default=p.exports},bOdI:function(t,e,a){"use strict";e.__esModule=!0;var i,n=a("C4MV"),l=(i=n)&&i.__esModule?i:{default:i};e.default=function(t,e,a){return e in t?(0,l.default)(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},bfzu:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("/4e5"),r=a("wbNz"),o=a("BQHT"),s=a("AUIh"),u={components:{KtTable:l.default,KtButton:r.default,TableTreeColumn:o.default},data:function(){return{size:"small",filters:{name:""},columns:[{prop:"id",label:"ID",minWidth:50},{prop:"name",label:"角色名",minWidth:120},{prop:"remark",label:"备注",minWidth:120},{prop:"createBy",label:"创建人",minWidth:120},{prop:"createTime",label:"创建时间",minWidth:120,formatter:this.dateFormat}],pageRequest:{pageNum:1,pageSize:10},pageResult:{},operation:!1,dialogVisible:!1,editLoading:!1,dataFormRules:{name:[{required:!0,message:"请输入角色名",trigger:"blur"}]},dataForm:{id:0,name:"",remark:""},selectRole:{},menuData:[],menuSelections:[],menuLoading:!1,authLoading:!1,checkAll:!1,currentRoleMenus:[],defaultProps:{children:"children",label:"name"}}},methods:{findPage:function(t){var e=this;null!==t&&(this.pageRequest=t.pageRequest),this.pageRequest.columnFilters={name:{name:"name",value:this.filters.name}},this.$api.role.findPage(this.pageRequest).then(function(t){e.pageResult=t.data,e.findTreeData()}).then(null!=t?t.callback:"")},handleDelete:function(t){this.$api.role.batchDelete(t.params).then(t.callback)},handleAdd:function(){this.dialogVisible=!0,this.operation=!0,this.dataForm={id:0,name:"",remark:""}},handleEdit:function(t){this.dialogVisible=!0,this.operation=!1,this.dataForm=n()({},t.row)},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.dataForm);t.$api.role.save(e).then(function(e){t.editLoading=!1,200==e.code?(t.$message({message:"操作成功",type:"success"}),t.dialogVisible=!1,t.$refs.dataForm.resetFields()):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.findPage(null)})})})},findTreeData:function(){var t=this;this.menuLoading=!0,this.$api.menu.findMenuTree().then(function(e){t.menuData=e.data,t.menuLoading=!1})},handleRoleSelectChange:function(t){var e=this;null!=t&&null!=t.val&&(this.selectRole=t.val,this.$api.role.findRoleMenus({roleId:t.val.id}).then(function(t){e.currentRoleMenus=t.data,e.$refs.menuTree.setCheckedNodes(t.data)}))},handleMenuCheckChange:function(t,e,a){var i=this;if(e){var n=t.parentId;this.$refs.menuTree.setChecked(n,!0,!1)}else null!=t.children&&t.children.forEach(function(t){i.$refs.menuTree.setChecked(t.id,!1,!1)})},resetSelection:function(){this.checkAll=!1,this.$refs.menuTree.setCheckedNodes(this.currentRoleMenus)},handleCheckAll:function(){if(this.checkAll){var t=[];this.checkAllMenu(this.menuData,t),this.$refs.menuTree.setCheckedNodes(t)}else this.$refs.menuTree.setCheckedNodes([])},checkAllMenu:function(t,e){var a=this;t.forEach(function(t){e.push(t),t.children&&a.checkAllMenu(t.children,e)})},submitAuthForm:function(){var t=this,e=this.selectRole.id;if("admin"!=this.selectRole.name){this.authLoading=!0;for(var a=this.$refs.menuTree.getCheckedNodes(!1,!0),i=[],n=0,l=a.length;n<l;n++){var r={roleId:e,menuId:a[n].id};i.push(r)}this.$api.role.saveRoleMenus(i).then(function(e){200==e.code?t.$message({message:"操作成功",type:"success"}):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.authLoading=!1})}else this.$message({message:"超级管理员拥有所有菜单权限，不允许修改！",type:"error"})},renderContent:function(t,e){e.node;var a=e.data;e.store;return t("div",{class:"column-container"},[t("span",{style:"text-algin:center;margin-right:80px;"},[a.name]),t("span",{style:"text-algin:center;margin-right:80px;"},[t("el-tag",{attrs:{type:0===a.type?"":1===a.type?"success":"info",size:"small"}},[0===a.type?"目录":1===a.type?"菜单":"按钮"])]),t("span",{style:"text-algin:center;margin-right:80px;"},[" ",t("i",{class:a.icon})]),t("span",{style:"text-algin:center;margin-right:80px;"},[a.parentName?a.parentName:"顶级菜单"]),t("span",{style:"text-algin:center;margin-right:80px;"},[a.url?a.url:"\t"])])},dateFormat:function(t,e,a,i){return Object(s.a)(t[e.property])}},mounted:function(){}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"角色名"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:role:view",type:"primary"},on:{click:function(e){t.findPage(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:role:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("kt-table",{attrs:{permsEdit:"sys:role:edit",permsDelete:"sys:role:delete",highlightCurrentRow:!0,stripe:!1,data:t.pageResult,columns:t.columns,showBatchDelete:!1},on:{handleCurrentChange:t.handleRoleSelectChange,findPage:t.findPage,handleEdit:t.handleEdit,handleDelete:t.handleDelete}}),t._v(" "),a("el-dialog",{attrs:{title:t.operation?"新增":"编辑",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,"label-width":"80px",rules:t.dataFormRules,size:t.size}},[t._e(),t._v(" "),a("el-form-item",{attrs:{label:"角色名",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注 ",prop:"remark"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea"},model:{value:t.dataForm.remark,callback:function(e){t.$set(t.dataForm,"remark",e)},expression:"dataForm.remark"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},nativeOn:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary",loading:t.editLoading},nativeOn:{click:function(e){return t.submitForm(e)}}},[t._v(t._s(t.$t("action.submit")))])],1)],1),t._v(" "),a("div",{staticClass:"menu-container",attrs:{"v-if":!0}},[a("div",{staticClass:"menu-header"},[a("span",[a("B",[t._v("角色菜单授权")])],1)]),t._v(" "),a("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:t.menuLoading,expression:"menuLoading"}],ref:"menuTree",staticStyle:{width:"100%","pading-top":"20px"},attrs:{data:t.menuData,size:"mini","show-checkbox":"","node-key":"id",props:t.defaultProps,"render-content":t.renderContent,"element-loading-text":"拼命加载中","check-strictly":!0},on:{"check-change":t.handleMenuCheckChange}}),t._v(" "),a("div",{staticStyle:{float:"left","padding-left":"24px","padding-top":"12px","padding-bottom":"4px"}},[a("el-checkbox",{attrs:{disabled:null==this.selectRole.id},on:{change:t.handleCheckAll},model:{value:t.checkAll,callback:function(e){t.checkAll=e},expression:"checkAll"}},[a("b",[t._v("全选")])])],1),t._v(" "),a("div",{staticStyle:{float:"right","padding-right":"15px","padding-top":"4px","padding-bottom":"4px"}},[a("kt-button",{attrs:{label:t.$t("action.reset"),perms:"sys:role:edit",type:"primary",disabled:null==this.selectRole.id},on:{click:t.resetSelection}}),t._v(" "),a("kt-button",{attrs:{label:t.$t("action.submit"),perms:"sys:role:edit",type:"primary",disabled:null==this.selectRole.id,loading:t.authLoading},on:{click:t.submitAuthForm}})],1)],1)],1)},staticRenderFns:[]};var d=a("VU/8")(u,c,!1,function(t){a("PXio")},"data-v-245de0b8",null);e.default=d.exports},ctV7:function(t,e){},dHnX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"productAttrList",data:function(){return{list:null,total:null,listLoading:!0,listQuery:{pageNum:1,pageSize:5,type:this.$route.query.type},operateType:null,multipleSelection:[],operates:[{label:"删除",value:"deleteProductAttr"}]}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0;var e=new URLSearchParams;e.append("currentPage",this.listQuery.pageNum),e.append("pageSize",this.listQuery.pageSize),e.append("productAttributeCategoryId",this.$route.query.cid),e.append("type",this.listQuery.type),this.$axios.post("http://localhost:8080/pmsProductAttribute/listPmsProductAttributeByPage",e).then(function(e){t.listLoading=!1,t.list=e.data.data.content,t.total=e.data.data.totalSize})},addProductAttr:function(){this.$router.push({path:"/pms/productAttr/addProductAttr",query:{cid:this.$route.query.cid,type:this.$route.query.type}})},handleSelectionChange:function(t){this.multipleSelection=t},handleBatchOperate:function(){if(this.multipleSelection<1)this.$message({message:"请选择一条记录",type:"warning",duration:1e3});else if("deleteProductAttr"===this.operateType){for(var t=[],e=0;e<this.multipleSelection.length;e++)t.push(this.multipleSelection[e].id);this.handleDeleteProductAttr(t)}else this.$message({message:"请选择批量操作类型",type:"warning",duration:1e3})},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},handleUpdate:function(t,e){this.$router.push({path:"/pms/updateProductAttr",query:{id:e.id}})},handleDeleteProductAttr:function(t){var e=this;this.$confirm("是否要删除该属性","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var a=new URLSearchParams;a.append("ids",t),e.$axios.post("http://localhost:8080/pmsProductAttribute/deletePmsProductAttributeBy",a).then(function(t){e.$message({message:"删除成功",type:"success",duration:1e3}),e.getList()})})},handleDelete:function(t,e){var a=[];a.push(e.id),this.handleDeleteProductAttr(a)}},filters:{inputTypeFilter:function(t){return 1===t?"从列表中选取":"手工录入"},selectTypeFilter:function(t){return 1===t?"单选":2===t?"多选":"唯一"}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-tickets",staticStyle:{"margin-top":"5px"}}),t._v(" "),a("span",{staticStyle:{"margin-top":"5px"}},[t._v("数据列表")]),t._v(" "),a("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(e){t.addProductAttr()}}},[t._v("\n      添加\n    ")])],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"productAttrTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"编号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"属性名称",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品类型",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t.$route.query.cname))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"属性是否可选",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("selectTypeFilter")(e.row.selectType)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"属性值的录入方式",width:"150",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(t._f("inputTypeFilter")(e.row.inputType)))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"可选值列表",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.inputList))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sort))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleUpdate(e.$index,e.row)}}},[t._v("编辑\n          ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除\n          ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":t.listQuery.pageSize,"page-sizes":[5,10,15],"current-page":t.listQuery.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"pageNum",e)}}})],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("BiQP")},"data-v-611d07f8",null);e.default=l.exports},fZjL:function(t,e,a){t.exports={default:a("jFbC"),__esModule:!0}},g9CB:function(t,e,a){var i={"./Backup/Backup":"5Iox","./Backup/Backup.vue":"5Iox","./Core/KtButton":"wbNz","./Core/KtButton.vue":"wbNz","./Core/KtTable":"/4e5","./Core/KtTable.vue":"/4e5","./Core/MessagePanel":"VaSu","./Core/MessagePanel.vue":"VaSu","./Core/NoticePanel":"6XgB","./Core/NoticePanel.vue":"6XgB","./Core/PersonalPanel":"vlPt","./Core/PersonalPanel.vue":"vlPt","./Core/TableColumnFilterDialog":"EN35","./Core/TableColumnFilterDialog.vue":"EN35","./Core/TableTreeColumn":"BQHT","./Core/TableTreeColumn.vue":"BQHT","./Error/404":"vr1u","./Error/404.vue":"vr1u","./Generator/Generator":"wuuA","./Generator/Generator.vue":"wuuA","./HeadBar/HeadBar":"4bIh","./HeadBar/HeadBar.vue":"4bIh","./Home":"j7e0","./Home.vue":"j7e0","./IFrame/IFrame":"NGlO","./IFrame/IFrame.vue":"NGlO","./Intro/Intro":"SiGl","./Intro/Intro.vue":"SiGl","./Login":"lmfZ","./Login.vue":"lmfZ","./MainContent/MainContent":"u37B","./MainContent/MainContent.vue":"u37B","./NavBar/NavBar":"w7g/","./NavBar/NavBar.vue":"w7g/","./Product/Brands":"oz7+","./Product/Brands.vue":"oz7+","./Product/ProductList":"us88","./Product/ProductList.vue":"us88","./Product/ProductType":"XU/d","./Product/ProductType.vue":"XU/d","./Sys/Dept":"sWj1","./Sys/Dept.vue":"sWj1","./Sys/Dict":"sj2w","./Sys/Dict.vue":"sj2w","./Sys/Log":"qnVm","./Sys/Log.vue":"qnVm","./Sys/Menu":"Is6l","./Sys/Menu.vue":"Is6l","./Sys/Role":"bfzu","./Sys/Role.vue":"bfzu","./Sys/SysUser":"IzxC","./Sys/SysUser.vue":"IzxC","./Sys/User":"VKGr","./Sys/User.vue":"VKGr","./pms/product/add":"N3DD","./pms/product/add.vue":"N3DD","./pms/product/components/ProductAttrDetail":"75kh","./pms/product/components/ProductAttrDetail.vue":"75kh","./pms/product/components/ProductDetail":"CmKi","./pms/product/components/ProductDetail.vue":"CmKi","./pms/product/components/ProductInfoDetail":"U0FV","./pms/product/components/ProductInfoDetail.vue":"U0FV","./pms/product/components/ProductRelationDetail":"6NFG","./pms/product/components/ProductRelationDetail.vue":"6NFG","./pms/product/components/ProductSaleDetail":"Ear6","./pms/product/components/ProductSaleDetail.vue":"Ear6","./pms/product/update":"jHNE","./pms/product/update.vue":"jHNE","./pms/productAttr":"wbLX","./pms/productAttr/":"wbLX","./pms/productAttr/addProductAttr":"oHd1","./pms/productAttr/addProductAttr.vue":"oHd1","./pms/productAttr/components/ProductAttrDetail":"qYud","./pms/productAttr/components/ProductAttrDetail.vue":"qYud","./pms/productAttr/index":"wbLX","./pms/productAttr/index.vue":"wbLX","./pms/productAttr/productAttrList":"dHnX","./pms/productAttr/productAttrList.vue":"dHnX","./pms/productAttr/updateProductAttr":"9OBE","./pms/productAttr/updateProductAttr.vue":"9OBE"};function n(t){return a(l(t))}function l(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}n.keys=function(){return Object.keys(i)},n.resolve=l,t.exports=n,n.id="g9CB"},jFbC:function(t,e,a){a("Cdx3"),t.exports=a("FeBl").Object.keys},jHNE:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"updateProduct",components:{ProductDetail:a("CmKi").default}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("product-detail",{attrs:{"is-edit":!0}})},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("3DPb")},null,null);e.default=l.exports},lYa9:function(t,e){},mClu:function(t,e,a){var i=a("kM2E");i(i.S+i.F*!a("+E39"),"Object",{defineProperty:a("evD5").f})},mvHQ:function(t,e,a){t.exports={default:a("qkKv"),__esModule:!0}},"o0/S":function(t,e){},oHd1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"addProductAttr",components:{ProductAttrDetail:a("qYud").default}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("product-attr-detail",{attrs:{"is-edit":!1}})},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("EQ3D")},"data-v-2a513176",null);e.default=l.exports},obOk:function(t,e){},ofO4:function(t,e){},"og+P":function(t,e){},"oz7+":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("wbNz"),r=a("BQHT"),o=a("xA5l"),s=a("uLE8"),u=a("AUIh"),c={components:{PopupTreeInput:o.a,KtButton:l.default,TableTreeColumn:r.default,FaIconTooltip:s.a},data:function(){return{pageRequest:{pageNum:1,pageSize:10},totalSize:0,size:"small",loading:!1,filters:{name:""},tableTreeDdata:[],dialogVisible:!1,dataForm:{id:0,name:"",firstLetter:0,sort:0,productCount:0,factoryStatus:0,showStatus:0,brandStory:"",logo:""},fileList:[{name:"food.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"},{name:"food2.jpeg",url:"https://fuss10.elemecdn.com/3/63/4e7f3a15429bfda99bce42a18cdd1jpeg.jpeg?imageMogr2/thumbnail/360x360/format/webp/quality/100"}]}},methods:{handleRemove:function(t,e){console.log(t,e)},handlePreview:function(t){console.log(t)},handleExceed:function(t,e){this.$message.warning("当前限制选择 3 个文件，本次选择了 "+t.length+" 个文件，共选择了 "+(t.length+e.length)+" 个文件")},beforeRemove:function(t,e){return this.$confirm("确定移除 "+t.name+"？")},handleSuccess:function(t){console.log(t),this.dataForm.logo=t},handleCurrentChange:function(t){this.pageRequest.pageNum=t,this.findTreeData()},findTreeData:function(){var t=this;this.loading=!0;var e=new URLSearchParams;e.append("currentPage",this.pageRequest.pageNum),e.append("pageSize",this.pageRequest.pageSize),e.append("name",this.filters.name),this.$axios.post("http://localhost:8080/pmsBrand/listPmsBrandByPage",e).then(function(e){console.log(e),t.tableTreeDdata=e.data.data.content,t.totalSize=e.data.data.totalSize,t.loading=!1})},handleAdd:function(){this.dialogVisible=!0,this.dataForm={id:0,name:"",parentId:0,parentName:"",orderNum:0}},handleEdit:function(t){this.dialogVisible=!0,n()(this.dataForm,t)},handleDelete:function(t){var e=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var a=e.getDeleteIds([],t);e.$api.productType.deletes(a).then(function(t){e.findTreeData(),e.$message({message:"删除成功",type:"success"})})})},getDeleteIds:function(t,e){if(t.push(e.id),null!=e.children)for(var a=0,i=e.children.length;a<i;a++)this.getDeleteIds(t,e.children[a]);return t.join(",")},handleTreeSelectChange:function(t,e){0==t.level?this.dataForm.parentId=0:(this.dataForm.parentId=t.id,this.dataForm.level=1),this.dataForm.parentName=t.name},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.dataForm);console.log(e.toString()),t.$api.brands.save(e).then(function(e){t.editLoading=!1,200==e.code?(t.$message({message:"操作成功",type:"success"}),t.dialogVisible=!1,t.$refs.dataForm.resetFields()):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.findTreeData()})})})},dateFormat:function(t,e,a,i){return Object(u.a)(t[e.property])}},mounted:function(){this.findTreeData()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:dept:view",type:"primary"},on:{click:function(e){t.findTreeData(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:dept:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableTreeDdata,stripe:"",size:"mini","row-key":"id","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"ID"}}),t._v(" "),a("table-tree-column",{attrs:{prop:"name","header-align":"center",treeKey:"id",width:"150",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"sort","header-align":"center",align:"center",label:"排序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"factoryStatus","header-align":"center",align:"center",label:"品牌厂商"}}),t._v(" "),a("el-table-column",{attrs:{prop:"showStatus","header-align":"center",align:"center",label:"是否展示"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productCount","header-align":"center",align:"center",label:"产品数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"logo","header-align":"center",align:"center",label:"产品logo"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{attrs:{src:t.row.logo,width:"100",height:"50"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"185",label:t.$t("action.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:t.$t("action.edit"),perms:"sys:dept:edit"},on:{click:function(a){t.handleEdit(e.row)}}}),t._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:t.$t("action.delete"),perms:"sys:dept:delete",type:"danger"},on:{click:function(a){t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.totalSize},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},attrs:{model:t.dataForm,"label-width":"80px",size:t.size},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm()}}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"首字母",prop:"firstLetter"}},[a("el-input",{attrs:{placeholder:"首字母"},model:{value:t.dataForm.firstLetter,callback:function(e){t.$set(t.dataForm,"firstLetter",e)},expression:"dataForm.firstLetter"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否展示",prop:"showStatus"}},[a("el-input",{attrs:{placeholder:"是否展示"},model:{value:t.dataForm.showStatus,callback:function(e){t.$set(t.dataForm,"showStatus",e)},expression:"dataForm.showStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品数量",prop:"productCount"}},[a("el-input",{attrs:{placeholder:"商品数量"},model:{value:t.dataForm.productCount,callback:function(e){t.$set(t.dataForm,"productCount",e)},expression:"dataForm.productCount"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品牌厂商",prop:"factoryStatus"}},[a("el-input",{attrs:{placeholder:"是否品牌厂商"},model:{value:t.dataForm.factoryStatus,callback:function(e){t.$set(t.dataForm,"factoryStatus",e)},expression:"dataForm.factoryStatus"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"品牌故事",prop:"brandStory"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.brandStory,expression:"dataForm.brandStory"}],attrs:{placeholder:"品牌故事"},domProps:{value:t.dataForm.brandStory},on:{input:function(e){e.target.composing||t.$set(t.dataForm,"brandStory",e.target.value)}}})]),t._v(" "),a("el-form-item",{attrs:{label:"商品logo",prop:"logo"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://localhost:8080/file/uploadImg","on-preview":t.handlePreview,"on-success":t.handleSuccess,"on-remove":t.handleRemove,"before-remove":t.beforeRemove,multiple:"",limit:3,"on-exceed":t.handleExceed,"file-list":t.fileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),t._v(" "),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("只能上传jpg/png文件，且不超过500kb")])],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v(t._s(t.$t("action.comfirm")))])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,d,!1,function(t){a("1NhE")},"data-v-78931848",null);e.default=p.exports},p9De:function(t,e){},q0cV:function(t,e){},qYud:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l={filterType:0,handAddStatus:0,inputList:"",inputType:0,name:"",productAttributeCategoryId:0,relatedStatus:0,searchType:0,selectType:0,sort:0,type:0},r={name:"ProductAttrDetail",props:{isEdit:{type:Boolean,default:!1}},data:function(){return{productAttr:n()({},l),rules:{name:[{required:!0,message:"请输入属性名称",trigger:"blur"},{min:2,max:140,message:"长度在 2 到 140 个字符",trigger:"blur"}]},productAttrCateList:null,inputListFormat:null}},created:function(){var t=this;this.isEdit?getProductAttr(this.$route.query.id).then(function(e){t.productAttr=e.data,t.inputListFormat=t.productAttr.inputList.replace(/,/g,"\n")}):this.resetProductAttr(),this.getCateList()},watch:{inputListFormat:function(t,e){t=t.replace(/\n/g,","),this.productAttr.inputList=t}},methods:{getCateList:function(){var t=this,e=new URLSearchParams;e.append("currentPage",1),e.append("pageSize",100),this.$axios.post("http://localhost:8080/pmsProductAttributeCategory/listPmsProductAttributeCategoryByPage",e).then(function(e){t.productAttrCateList=e.data.data.content})},resetProductAttr:function(){this.productAttr=n()({},l),this.productAttr.productAttributeCategoryId=Number(this.$route.query.cid),this.productAttr.type=Number(this.$route.query.type)},onSubmit:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return e.$message({message:"验证失败",type:"error",duration:1e3}),!1;e.$confirm("是否提交数据","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.isEdit?updateProductAttr(e.$route.query.id,e.productAttr).then(function(t){e.$message({message:"修改成功",type:"success",duration:1e3}),e.$router.back()}):createProductAttr(e.productAttr).then(function(t){e.$message({message:"提交成功",type:"success",duration:1e3}),e.resetForm("productAttrFrom")})})})},resetForm:function(t){this.$refs[t].resetFields(),this.resetProductAttr()}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"form-container",attrs:{shadow:"never"}},[a("el-form",{ref:"productAttrFrom",attrs:{model:t.productAttr,rules:t.rules,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"属性名称：",prop:"name"}},[a("el-input",{model:{value:t.productAttr.name,callback:function(e){t.$set(t.productAttr,"name",e)},expression:"productAttr.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"商品类型："}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.productAttr.productAttributeCategoryId,callback:function(e){t.$set(t.productAttr,"productAttributeCategoryId",e)},expression:"productAttr.productAttributeCategoryId"}},t._l(t.productAttrCateList,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})}))],1),t._v(" "),a("el-form-item",{attrs:{label:"分类筛选样式:"}},[a("el-radio-group",{model:{value:t.productAttr.filterType,callback:function(e){t.$set(t.productAttr,"filterType",e)},expression:"productAttr.filterType"}},[a("el-radio",{attrs:{label:0}},[t._v("普通")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("颜色")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"能否进行检索:"}},[a("el-radio-group",{model:{value:t.productAttr.searchType,callback:function(e){t.$set(t.productAttr,"searchType",e)},expression:"productAttr.searchType"}},[a("el-radio",{attrs:{label:0}},[t._v("不需要检索")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("关键字检索")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("范围检索")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"商品属性关联:"}},[a("el-radio-group",{model:{value:t.productAttr.relatedStatus,callback:function(e){t.$set(t.productAttr,"relatedStatus",e)},expression:"productAttr.relatedStatus"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"属性是否可选:"}},[a("el-radio-group",{model:{value:t.productAttr.selectType,callback:function(e){t.$set(t.productAttr,"selectType",e)},expression:"productAttr.selectType"}},[a("el-radio",{attrs:{label:0}},[t._v("唯一")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("单选")]),t._v(" "),a("el-radio",{attrs:{label:2}},[t._v("复选")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"属性值的录入方式:"}},[a("el-radio-group",{model:{value:t.productAttr.inputType,callback:function(e){t.$set(t.productAttr,"inputType",e)},expression:"productAttr.inputType"}},[a("el-radio",{attrs:{label:0}},[t._v("手工录入")]),t._v(" "),a("el-radio",{attrs:{label:1}},[t._v("从下面列表中选择")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"属性值可选值列表:"}},[a("el-input",{attrs:{autosize:!0,type:"textarea"},model:{value:t.inputListFormat,callback:function(e){t.inputListFormat=e},expression:"inputListFormat"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"是否支持手动新增:"}},[a("el-radio-group",{model:{value:t.productAttr.handAddStatus,callback:function(e){t.$set(t.productAttr,"handAddStatus",e)},expression:"productAttr.handAddStatus"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),a("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),a("el-form-item",{attrs:{label:"排序属性："}},[a("el-input",{model:{value:t.productAttr.sort,callback:function(e){t.$set(t.productAttr,"sort",e)},expression:"productAttr.sort"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.onSubmit("productAttrFrom")}}},[t._v("提交")]),t._v(" "),t.isEdit?t._e():a("el-button",{on:{click:function(e){t.resetForm("productAttrFrom")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var s=a("VU/8")(r,o,!1,function(t){a("DO2n")},"data-v-62591e52",null);e.default=s.exports},qkKv:function(t,e,a){var i=a("FeBl"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},qnVm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("/4e5"),n=a("wbNz"),l=a("AUIh"),r={components:{KtTable:i.default,KtButton:n.default},data:function(){return{size:"small",filters:{name:""},columns:[{prop:"id",label:"ID",minWidth:60},{prop:"userName",label:"用户名",minWidth:100},{prop:"method",label:"方法",minWidth:180},{prop:"params",label:"参数",minWidth:220},{prop:"ip",label:"IP",minWidth:120},{prop:"time",label:"耗时",minWidth:80},{prop:"createBy",label:"创建人",minWidth:100},{prop:"createTime",label:"创建时间",minWidth:120,formatter:this.dateFormat}],pageRequest:{pageNum:1,pageSize:10},pageResult:{},showOperation:!1}},methods:{findPage:function(t){var e=this;null!==t&&(this.pageRequest=t.pageRequest),this.pageRequest.columnFilters={userName:{name:"userName",value:this.filters.name}},this.$api.log.findPage(this.pageRequest).then(function(t){e.pageResult=t.data}).then(null!=t?t.callback:"")},dateFormat:function(t,e,a,i){return Object(l.a)(t[e.property])}},mounted:function(){}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"用户名"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:log:view",type:"primary"},on:{click:function(e){t.findPage(null)}}})],1)],1)],1),t._v(" "),a("kt-table",{attrs:{data:t.pageResult,columns:t.columns,showOperation:t.showOperation},on:{findPage:t.findPage}})],1)},staticRenderFns:[]};var s=a("VU/8")(r,o,!1,function(t){a("SJ9W")},"data-v-8a0f3f28",null);e.default=s.exports},ruui:function(t,e){},s2P4:function(t,e){},sWj1:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("wbNz"),r=a("BQHT"),o=a("xA5l"),s=a("uLE8"),u=a("AUIh"),c={components:{PopupTreeInput:o.a,KtButton:l.default,TableTreeColumn:r.default,FaIconTooltip:s.a},data:function(){return{pageRequest:{pageNum:1,pageSize:10},totalSize:0,size:"small",loading:!1,filters:{name:""},tableTreeDdata:[],dialogVisible:!1,dataForm:{id:0,name:"",parentId:0,parentName:"",orderNum:0},dataRule:{name:[{required:!0,message:"机构名称不能为空",trigger:"blur"}],parentName:[{required:!0,message:"上级机构不能为空",trigger:"change"}]},popupTreeData:[],popupTreeProps:{label:"name",children:"children"}}},methods:{handleCurrentChange:function(t){this.pageRequest.pageNum=t,this.findTreeData()},findTreeData:function(){var t=this;this.loading=!0;var e=new URLSearchParams;e.append("currentPage",this.pageRequest.pageNum),e.append("pageSize",this.pageRequest.pageSize),this.$axios.post("http://localhost:8080/dept/findTree",e).then(function(e){console.log(e),t.tableTreeDdata=e.data.data.content,t.popupTreeData=t.getParentMenuTree(e.data),t.totalSize=e.data.data.totalSize,t.loading=!1})},getParentMenuTree:function(t){return[{parentId:0,name:"顶级菜单",children:t}]},handleAdd:function(){this.dialogVisible=!0,this.dataForm={id:0,name:"",parentId:0,parentName:"",orderNum:0}},handleEdit:function(t){this.dialogVisible=!0,n()(this.dataForm,t)},handleDelete:function(t){var e=this;this.$confirm("确认删除选中记录吗？","提示",{type:"warning"}).then(function(){var a=e.getDeleteIds([],t);e.$api.dept.batchDelete(a).then(function(t){e.findTreeData(),e.$message({message:"删除成功",type:"success"})})})},getDeleteIds:function(t,e){if(t.push({id:e.id}),null!=e.children)for(var a=0,i=e.children.length;a<i;a++)this.getDeleteIds(t,e.children[a]);return t},handleTreeSelectChange:function(t,e){this.dataForm.parentId=t.id,this.dataForm.parentName=t.name},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.dataForm);t.$api.dept.save(e).then(function(e){t.editLoading=!1,200==e.code?(t.$message({message:"操作成功",type:"success"}),t.dialogVisible=!1,t.$refs.dataForm.resetFields()):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.findTreeData()})})})},dateFormat:function(t,e,a,i){return Object(u.a)(t[e.property])}},mounted:function(){this.findTreeData()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:dept:view",type:"primary"},on:{click:function(e){t.findTreeData(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:dept:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableTreeDdata,stripe:"",size:"mini","row-key":"id","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{prop:"id","header-align":"center",align:"center",width:"80",label:"ID"}}),t._v(" "),a("table-tree-column",{attrs:{prop:"name","header-align":"center",treeKey:"id",width:"150",label:"名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"parentName","header-align":"center",align:"center",width:"120",label:"上级机构"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderNum","header-align":"center",align:"center",label:"排序"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createBy","header-align":"center",align:"center",label:"创建人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime","header-align":"center",align:"center",label:"创建时间",formatter:t.dateFormat}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right","header-align":"center",align:"center",width:"185",label:t.$t("action.operation")},scopedSlots:t._u([{key:"default",fn:function(e){return[a("kt-button",{attrs:{icon:"fa fa-edit",label:t.$t("action.edit"),perms:"sys:dept:edit"},on:{click:function(a){t.handleEdit(e.row)}}}),t._v(" "),a("kt-button",{attrs:{icon:"fa fa-trash",label:t.$t("action.delete"),perms:"sys:dept:delete",type:"danger"},on:{click:function(a){t.handleDelete(e.row)}}})]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.totalSize},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:t.dataForm.id?"修改":"新增",width:"40%",visible:t.dialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",staticStyle:{"text-align":"left"},attrs:{model:t.dataForm,rules:t.dataRule,"label-width":"80px",size:t.size},nativeOn:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm()}}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.dataForm.name,callback:function(e){t.$set(t.dataForm,"name",e)},expression:"dataForm.name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"上级机构",prop:"parentName"}},[a("popup-tree-input",{attrs:{data:t.popupTreeData,props:t.popupTreeProps,prop:null==t.dataForm.parentName?"顶级菜单":t.dataForm.parentName,nodeKey:""+t.dataForm.parentId,currentChangeHandle:t.handleTreeSelectChange}})],1),t._v(" "),2!==t.dataForm.type?a("el-form-item",{attrs:{label:"排序编号",prop:"orderNum"}},[a("el-input-number",{attrs:{"controls-position":"right",min:0,label:"排序编号"},model:{value:t.dataForm.orderNum,callback:function(e){t.$set(t.dataForm,"orderNum",e)},expression:"dataForm.orderNum"}})],1):t._e()],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},on:{click:function(e){t.dialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary"},on:{click:function(e){t.submitForm()}}},[t._v(t._s(t.$t("action.comfirm")))])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,d,!1,function(t){a("x4E1")},"data-v-2e207b55",null);e.default=p.exports},sj2w:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("/4e5"),r=a("wbNz"),o=a("AUIh"),s={components:{KtTable:l.default,KtButton:r.default},data:function(){return{size:"small",filters:{label:""},columns:[{prop:"id",label:"ID",minWidth:50},{prop:"label",label:"名称",minWidth:100},{prop:"value",label:"值",minWidth:100},{prop:"type",label:"类型",minWidth:80},{prop:"sort",label:"排序",minWidth:80},{prop:"description",label:"描述",minWidth:120},{prop:"remarks",label:"备注",minWidth:120},{prop:"createBy",label:"创建人",minWidth:100},{prop:"createTime",label:"创建时间",minWidth:120,formatter:this.dateFormat}],pageRequest:{pageNum:1,pageSize:10},pageResult:{},operation:!1,editDialogVisible:!1,editLoading:!1,dataFormRules:{label:[{required:!0,message:"请输入名称",trigger:"blur"}]},dataForm:{id:0,label:"",value:"",type:"",sort:0,description:"",remarks:""}}},methods:{findPage:function(t){var e=this;null!==t&&(this.pageRequest=t.pageRequest),this.pageRequest.columnFilters={label:{name:"label",value:this.filters.label}},this.$api.dict.findPage(this.pageRequest).then(function(t){e.pageResult=t.data}).then(null!=t?t.callback:"")},handleDelete:function(t){this.$api.dict.batchDelete(t.params).then(null!=t?t.callback:"")},handleAdd:function(){this.editDialogVisible=!0,this.operation=!0,this.dataForm={id:0,label:"",value:"",type:"",sort:0,description:"desc",remarks:"remark"}},handleEdit:function(t){this.editDialogVisible=!0,this.operation=!1,this.dataForm=n()({},t.row)},submitForm:function(){var t=this;this.$refs.dataForm.validate(function(e){e&&t.$confirm("确认提交吗？","提示",{}).then(function(){t.editLoading=!0;var e=n()({},t.dataForm);t.$api.dict.save(e).then(function(e){200==e.code?t.$message({message:"操作成功",type:"success"}):t.$message({message:"操作失败, "+e.msg,type:"error"}),t.editLoading=!1,t.$refs.dataForm.resetFields(),t.editDialogVisible=!1,t.findPage(null)})})})},dateFormat:function(t,e,a,i){return Object(o.a)(t[e.property])}},mounted:function(){}},u={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.filters.label,callback:function(e){t.$set(t.filters,"label",e)},expression:"filters.label"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:dict:view",type:"primary"},on:{click:function(e){t.findPage(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:dict:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("kt-table",{attrs:{permsEdit:"sys:dict:edit",permsDelete:"sys:dict:delete",data:t.pageResult,columns:t.columns},on:{findPage:t.findPage,handleEdit:t.handleEdit,handleDelete:t.handleDelete}}),t._v(" "),a("el-dialog",{attrs:{title:t.operation?"新增":"编辑",width:"40%",visible:t.editDialogVisible,"close-on-click-modal":!1},on:{"update:visible":function(e){t.editDialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm,"label-width":"80px",rules:t.dataFormRules,size:t.size}},[t._e(),t._v(" "),a("el-form-item",{attrs:{label:"名称",prop:"label"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.label,callback:function(e){t.$set(t.dataForm,"label",e)},expression:"dataForm.label"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"值",prop:"value"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.value,callback:function(e){t.$set(t.dataForm,"value",e)},expression:"dataForm.value"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.type,callback:function(e){t.$set(t.dataForm,"type",e)},expression:"dataForm.type"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"排序",prop:"sort"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.dataForm.sort,callback:function(e){t.$set(t.dataForm,"sort",e)},expression:"dataForm.sort"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"描述 ",prop:"description"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea"},model:{value:t.dataForm.description,callback:function(e){t.$set(t.dataForm,"description",e)},expression:"dataForm.description"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"备注",prop:"remarks"}},[a("el-input",{attrs:{"auto-complete":"off",type:"textarea"},model:{value:t.dataForm.remarks,callback:function(e){t.$set(t.dataForm,"remarks",e)},expression:"dataForm.remarks"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:t.size},nativeOn:{click:function(e){t.editDialogVisible=!1}}},[t._v(t._s(t.$t("action.cancel")))]),t._v(" "),a("el-button",{attrs:{size:t.size,type:"primary",loading:t.editLoading},nativeOn:{click:function(e){return t.submitForm(e)}}},[t._v(t._s(t.$t("action.submit")))])],1)],1)],1)},staticRenderFns:[]};var c=a("VU/8")(s,u,!1,function(t){a("lYa9")},"data-v-789ea027",null);e.default=c.exports},sqeF:function(t,e){},uLE8:function(t,e,a){"use strict";var i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-tooltip",{staticClass:"tooltip",attrs:{placement:"top",effect:"light"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("p",[t._v("推荐使用 Font Aweson 图标")]),t._v(" "),a("p",[t._v("使用步骤：")]),t._v(" "),a("p",[t._v("1.进入 "),a("a",{attrs:{href:"http://www.fontawesome.com.cn/faicons/",target:"_blank"}},[t._v("Font Aweson")]),t._v(" 页面")]),t._v(" "),a("p",[t._v("2.查找到需要的图标,点击查看。")]),t._v(" "),a("p",[t._v("3.复制图片样式到此处。")]),t._v(" "),a("p",[t._v("示例：fa fa-home fa-lg")])]),t._v(" "),a("i",{staticClass:"el-icon-warning"})])},staticRenderFns:[]};var n=a("VU/8")({data:function(){return{}},methods:{},mounted:function(){}},i,!1,function(t){a("o0/S")},"data-v-2008c790",null);e.a=n.exports},ulml:function(t,e){},uqUo:function(t,e,a){var i=a("kM2E"),n=a("FeBl"),l=a("S82l");t.exports=function(t,e){var a=(n.Object||{})[t]||Object[t],r={};r[t]=e(a),i(i.S+i.F*l(function(){a(1)}),"Object",r)}},us88:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("woOf"),n=a.n(i),l=a("wbNz"),r=a("BQHT"),o=a("xA5l"),s=a("uLE8"),u=(a("AUIh"),{keyword:null,pageNum:1,pageSize:5,publishStatus:null,verifyStatus:null,productSn:null,productCategoryId:null,brandId:null}),c={components:{PopupTreeInput:o.a,KtButton:l.default,TableTreeColumn:r.default,FaIconTooltip:s.a},watch:{selectProductCateValue:function(t){null!=t&&2==t.length?this.listQuery.productCategoryId=t[1]:this.listQuery.productCategoryId=null}},filters:{verifyStatusFilter:function(t){return 1===t?"审核通过":"未审核"}},data:function(){return{pageRequest:{pageNum:1,pageSize:10},totalSize:0,size:"small",loading:!1,filters:{name:""},tableTreeDdata:[],editSkuInfo:{dialogVisible:!1,productId:null,productSn:"",productAttributeCategoryId:null,stockList:[],productAttr:[],keyword:null},operates:[{label:"商品上架",value:"publishOn"},{label:"商品下架",value:"publishOff"},{label:"设为推荐",value:"recommendOn"},{label:"取消推荐",value:"recommendOff"},{label:"设为新品",value:"newOn"},{label:"取消新品",value:"newOff"},{label:"转移到分类",value:"transferCategory"},{label:"移入回收站",value:"recycle"}],operateType:null,listQuery:n()({},u),list:null,total:null,listLoading:!0,selectProductCateValue:null,multipleSelection:[],productCateOptions:[],brandOptions:[],publishStatusOptions:[{value:1,label:"上架"},{value:0,label:"下架"}],verifyStatusOptions:[{value:1,label:"审核通过"},{value:0,label:"未审核"}]}},methods:{handleCurrentChange:function(t){console.log(t),this.pageRequest.pageNum=t,this.findTreeData()},findTreeData:function(){var t=this;this.loading=!0;var e=new URLSearchParams;e.append("currentPage",this.pageRequest.pageNum),e.append("pageSize",this.pageRequest.pageSize),this.$axios.post("http://localhost:8080/pmsProduct/listPmsProductByPage",e).then(function(e){console.log(e),t.tableTreeDdata=e.data.data.content,t.totalSize=e.data.data.totalSize,t.loading=!1})},handleShowSkuEditDialog:function(t,e){var a=this;this.editSkuInfo.dialogVisible=!0,this.editSkuInfo.productId=e.id,this.editSkuInfo.productSn=e.productSn,this.editSkuInfo.productAttributeCategoryId=e.productAttributeCategoryId,this.editSkuInfo.keyword=null;var i=new URLSearchParams;i.append("productId",e.id),i.append("currentPage",1),i.append("pageSize",100),this.$axios.post("http://localhost:8080/pmsSkuStock/listPmsSkuStockByPage",i).then(function(t){a.editSkuInfo.stockList=t.data.data.content});var n=new URLSearchParams;n.append("currentPage",-1),n.append("pageSize",-1),n.append("productAttributeCategoryId",e.productAttributeCategoryId),n.append("type",0),this.$axios.post("http://localhost:8080/pmsProductAttribute/listPmsProductAttributeByPage",i).then(function(t){a.editSkuInfo.productAttr=t.data.data.content})}},mounted:function(){this.findTreeData()}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-container"},[a("div",{staticClass:"toolbar",staticStyle:{float:"left","padding-top":"10px","padding-left":"15px"}},[a("el-form",{attrs:{inline:!0,model:t.filters,size:t.size}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"名称"},model:{value:t.filters.name,callback:function(e){t.$set(t.filters,"name",e)},expression:"filters.name"}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-search",label:t.$t("action.search"),perms:"sys:dept:view",type:"primary"},on:{click:function(e){t.findTreeData(null)}}})],1),t._v(" "),a("el-form-item",[a("kt-button",{attrs:{icon:"fa fa-plus",label:t.$t("action.add"),perms:"sys:dept:add",type:"primary"},on:{click:t.handleAdd}})],1)],1)],1),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.tableTreeDdata,stripe:"",size:"mini","row-key":"id","element-loading-text":"$t('action.loading')"}},[a("el-table-column",{attrs:{type:"selection",width:"60",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{label:"编号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品图片",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{height:"80px"},attrs:{src:t.row.pic}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(e.row.name))]),t._v(" "),a("p",[t._v("品牌："+t._s(e.row.brandName))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"价格/货号",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("价格：￥"+t._s(e.row.price))]),t._v(" "),a("p",[t._v("货号："+t._s(e.row.productSn))])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"标签",width:"140",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v("上架：\n            "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.handlePublishStatusChange(e.$index,e.row)}},model:{value:e.row.publishStatus,callback:function(a){t.$set(e.row,"publishStatus",a)},expression:"scope.row.publishStatus"}})],1),t._v(" "),a("p",[t._v("新品：\n            "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.handleNewStatusChange(e.$index,e.row)}},model:{value:e.row.newStatus,callback:function(a){t.$set(e.row,"newStatus",a)},expression:"scope.row.newStatus"}})],1),t._v(" "),a("p",[t._v("推荐：\n            "),a("el-switch",{attrs:{"active-value":1,"inactive-value":0},on:{change:function(a){t.handleRecommendStatusChange(e.$index,e.row)}},model:{value:e.row.recommandStatus,callback:function(a){t.$set(e.row,"recommandStatus",a)},expression:"scope.row.recommandStatus"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"排序",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sort))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"SKU库存",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:""},on:{click:function(a){t.handleShowSkuEditDialog(e.$index,e.row)}}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"销量",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.sale))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"审核状态",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t._f("verifyStatusFilter")(e.row.verifyStatus)))]),t._v(" "),a("p",[a("el-button",{attrs:{type:"text"},on:{click:function(a){t.handleShowVerifyDetail(e.$index,e.row)}}},[t._v("审核详情\n            ")])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"160",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleShowProduct(e.$index,e.row)}}},[t._v("查看\n            ")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleUpdateProduct(e.$index,e.row)}}},[t._v("编辑\n            ")])],1),t._v(" "),a("p",[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleShowLog(e.$index,e.row)}}},[t._v("日志\n            ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除\n            ")])],1)]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next",total:t.totalSize},on:{"current-change":t.handleCurrentChange}}),t._v(" "),a("el-dialog",{attrs:{title:"编辑货品信息",visible:t.editSkuInfo.dialogVisible,width:"40%"},on:{"update:visible":function(e){t.$set(t.editSkuInfo,"dialogVisible",e)}}},[a("span",[t._v("商品货号：")]),t._v(" "),a("span",[t._v(t._s(t.editSkuInfo.productSn))]),t._v(" "),a("el-input",{staticStyle:{width:"50%","margin-left":"20px"},attrs:{placeholder:"按sku编号搜索",size:"small"},model:{value:t.editSkuInfo.keyword,callback:function(e){t.$set(t.editSkuInfo,"keyword",e)},expression:"editSkuInfo.keyword"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.handleSearchEditSku},slot:"append"})],1),t._v(" "),a("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.editSkuInfo.stockList,border:""}},[a("el-table-column",{attrs:{label:"SKU编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.skuCode,callback:function(a){t.$set(e.row,"skuCode",a)},expression:"scope.row.skuCode"}})]}}])}),t._v(" "),t._l(t.editSkuInfo.productAttr,function(e,i){return a("el-table-column",{key:e.id,attrs:{label:e.name,align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.getProductSkuSp(e.row,i))+"\n          ")]}}])})}),t._v(" "),a("el-table-column",{attrs:{label:"销售价格",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.price,callback:function(a){t.$set(e.row,"price",a)},expression:"scope.row.price"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"商品库存",width:"80",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.stock,callback:function(a){t.$set(e.row,"stock",a)},expression:"scope.row.stock"}})]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"库存预警值",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{model:{value:e.row.lowStock,callback:function(a){t.$set(e.row,"lowStock",a)},expression:"scope.row.lowStock"}})]}}])})],2),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.editSkuInfo.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.handleEditSkuConfirm}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var p=a("VU/8")(c,d,!1,function(t){a("W1lk")},"data-v-2a663f28",null);e.default=p.exports},wbLX:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"productAttrCateList",data:function(){return{list:null,total:null,listLoading:!0,listQuery:{pageNum:1,pageSize:5},dialogVisible:!1,dialogTitle:"",productAttrCate:{name:"",id:null},rules:{name:[{required:!0,message:"请输入类型名称",trigger:"blur"}]}}},created:function(){this.getList()},methods:{getList:function(){var t=this;this.listLoading=!0;var e=new URLSearchParams;e.append("currentPage",this.listQuery.pageNum),e.append("pageSize",this.listQuery.pageSize),this.$axios.post("http://localhost:8080/pmsProductAttributeCategory/listPmsProductAttributeCategoryByPage",e).then(function(e){t.listLoading=!1,t.list=e.data.data.content,t.total=e.data.data.totalSize})},addProductAttrCate:function(){this.dialogVisible=!0,this.dialogTitle="添加类型"},handleSizeChange:function(t){this.listQuery.pageNum=1,this.listQuery.pageSize=t,this.getList()},handleCurrentChange:function(t){this.listQuery.pageNum=t,this.getList()},handleDelete:function(t,e){var a=this;this.$confirm("是否要删除该品牌","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=new URLSearchParams;t.append("id",e.id),a.$axios.post("http://localhost:8080/pmsProductAttributeCategory/deletePmsProductAttributeCategory",t).then(function(t){a.$message({message:"删除成功",type:"success",duration:1e3}),a.getList()})})},handleUpdate:function(t,e){this.dialogVisible=!0,this.dialogTitle="编辑类型",this.productAttrCate.name=e.name,this.productAttrCate.id=e.id},getAttrList:function(t,e){console.log("aaaaaaaaaaaaaaaaaaaaaaaaaaaa"),this.$router.push({path:"/pms/productAttr/productAttrList",query:{cid:e.id,cname:e.name,type:0}})},getParamList:function(t,e){this.$router.push({path:"/pms/productAttr/productAttrList",query:{cid:e.id,cname:e.name,type:1}})},handleConfirm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;var a=new URLSearchParams;a.append("name",e.productAttrCate.name),"添加品牌"===e.dialogTitle?e.$axios.post("http://localhost:8080/pmsProductAttributeCategory/insertPmsProductAttributeCategory",a).then(function(t){e.$message({message:"添加成功",type:"success",duration:1e3}),e.dialogVisible=!1,e.getList()}):(a.append("id",e.productAttrCate.id),e.$axios.post("http://localhost:8080/pmsProductAttributeCategory/updatePmsProductAttributeCategory",a).then(function(t){e.$message({message:"修改成功",type:"success",duration:1e3}),e.dialogVisible=!1,e.getList()}))})}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-card",{staticClass:"operate-container",attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-tickets",staticStyle:{"margin-top":"5px"}}),t._v(" "),a("span",{staticStyle:{"margin-top":"5px"}},[t._v("数据列表")]),t._v(" "),a("el-button",{staticClass:"btn-add",attrs:{size:"mini"},on:{click:function(e){t.addProductAttrCate()}}},[t._v("\n      添加\n    ")])],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"productAttrCateTable",staticStyle:{width:"100%"},attrs:{data:t.list,border:""}},[a("el-table-column",{attrs:{label:"编号",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.id))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"类型名称",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.name))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"属性数量",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(null==e.row.attributeCount?0:e.row.attributeCount))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"参数数量",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(null==e.row.paramCount?0:e.row.paramCount))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"设置",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.getAttrList(e.$index,e.row)}}},[t._v("属性列表\n\t\t\t\t\t\n          ")]),t._v(" "),a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.getParamList(e.$index,e.row)}}},[t._v("参数列表\n          ")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"200",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.handleUpdate(e.$index,e.row)}}},[t._v("编辑\n          ")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDelete(e.$index,e.row)}}},[t._v("删除\n          ")])]}}])})],1)],1),t._v(" "),a("div",{staticClass:"pagination-container"},[a("el-pagination",{attrs:{background:"",layout:"total, sizes,prev, pager, next,jumper","page-size":t.listQuery.pageSize,"page-sizes":[5,10,15],"current-page":t.listQuery.pageNum,total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.$set(t.listQuery,"pageNum",e)}}})],1),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"productAttrCatForm",attrs:{model:t.productAttrCate,rules:t.rules,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"类型名称",prop:"name"}},[a("el-input",{attrs:{"auto-complete":"off"},model:{value:t.productAttrCate.name,callback:function(e){t.$set(t.productAttrCate,"name",e)},expression:"productAttrCate.name"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleConfirm("productAttrCatForm")}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("Lu/R")},"data-v-17d70a08",null);e.default=l.exports},wbNz:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("IcnI");var n={name:"KtButton",props:{label:{type:String,default:"Button"},icon:{type:String,default:""},size:{type:String,default:"mini"},type:{type:String,default:null},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},perms:{type:String,default:null}},data:function(){return{}},methods:{handleClick:function(){this.$emit("click",{})},hasPerms:function(t){return function(t){for(var e=!1,a=i.a.state.user.perms,n=0,l=a.length;n<l;n++)if(a[n]===t){e=!0;break}return e}(t)&!this.disabled}},mounted:function(){}},l={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("el-button",{attrs:{size:t.size,type:t.type,icon:t.icon,loading:t.loading,disabled:!t.hasPerms(t.perms)},on:{click:t.handleClick}},[t._v("\n  "+t._s(t.label)+"\n")])},staticRenderFns:[]};var r=a("VU/8")(n,l,!1,function(t){a("ctV7")},"data-v-dc2d8922",null);e.default=r.exports},x4E1:function(t,e){},xA5l:function(t,e,a){"use strict";var i={name:"PopupTreeInput",props:{data:{type:Array,default:[]},props:{type:Object,default:{}},prop:{type:String,default:""},nodeKey:{type:String,default:""},placeholder:{type:String,default:"点击选择内容"},placement:{type:String,default:"right-start"},defaultExpandAll:{type:Boolean,default:!1},currentChangeHandle:{type:Function,default:null}}},n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-popover",{ref:"popover",attrs:{placement:t.placement,trigger:"click"}},[a("el-tree",{ref:"popupTree",attrs:{data:t.data,props:t.props,"node-key":"nodeKey","default-expand-all":t.defaultExpandAll,"highlight-current":!0,"expand-on-click-node":!0},on:{"current-change":t.currentChangeHandle}})],1),t._v(" "),a("el-input",{directives:[{name:"popover",rawName:"v-popover:popover",arg:"popover"}],staticStyle:{cursor:"pointer"},attrs:{readonly:!0,placeholder:t.placeholder},model:{value:t.prop,callback:function(e){t.prop=e},expression:"prop"}})],1)},staticRenderFns:[]};var l=a("VU/8")(i,n,!1,function(t){a("ofO4")},"data-v-7ed694fb",null);e.a=l.exports},"xX/3":function(t,e){}});
//# sourceMappingURL=0.fe67c76dbd3ada14d92b.js.map
